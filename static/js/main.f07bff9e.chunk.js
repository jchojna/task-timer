(this["webpackJsonptask-timer"]=this["webpackJsonptask-timer"]||[]).push([[0],[,,,function(e,a,t){e.exports=t.p+"static/media/icons.0a7280e9.svg"},,,,,,,,function(e,a,t){e.exports=t.p+"static/media/logo.84c2435d.svg"},,,function(e,a,t){e.exports=t(44)},,,,,function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){"use strict";t.r(a);var s=t(0),i=t.n(s),n=t(13),r=t.n(n),o=(t(19),t(10)),l=t(2),c=t(9),d=t(4),m=t(5),u=t(7),T=t(6),k=t(8),h=t(1),g=t.n(h),p=(t(20),function(e){function a(e){var t;return Object(d.a)(this,a),(t=Object(u.a)(this,Object(T.a)(a).call(this,e))).handleShadowPostion=function(){if(t.props.isIntroVisible){var e=t.state,a=e.totalTime,s=e.timeInterval,i=e.elapsedTime,n=e.maxDistance,r=e.elapsedDistance,o=e.elapsedAngle,l=a/s,c=n/l,d=360/l*(3/Math.pow(3,i/a*2)),m=o*(Math.PI/180),u=Math.sin(m)*r,T=Math.cos(m)*r;if(t.setState((function(e){return{elapsedTime:i+s,elapsedDistance:e.elapsedDistance+c,elapsedAngle:e.elapsedAngle-d,xTranslation:u,yTranslation:T}})),t.state.elapsedTime>=t.state.totalTime){var k=t.props.onAppStateChange;t.setState({isIntroFadingOut:!0}),clearInterval(t.intervalId),t.timeoutId=setTimeout((function(){k({isIntroVisible:!1})}),1e3)}}},t.state={totalTime:5e3,timeInterval:10,maxDistance:4,elapsedDistance:0,elapsedAngle:120,elapsedTime:0,xTranslation:0,yTranslation:0,isIntroFadingOut:!1},t}return Object(k.a)(a,e),Object(m.a)(a,[{key:"componentDidMount",value:function(){var e=this.state.timeInterval;this.intervalId=setInterval(this.handleShadowPostion,e)}},{key:"componentWillUnmount",value:function(){clearInterval(this.intervalId),clearTimeout(this.timeoutId)}},{key:"render",value:function(){var e=this.state,a=e.isIntroFadingOut,t=e.xTranslation,s=e.yTranslation,n=g()("Intro",{"Intro--visible":!a}),r={transform:"\n        translate(".concat(t,"%, ").concat(s,"%)\n        rotate(0.01deg)\n      ")};return i.a.createElement("div",{className:n},i.a.createElement("svg",{className:"logo",viewBox:"0 0 600 600"},i.a.createElement("mask",{id:"mask",className:"logo__mask"},i.a.createElement("rect",{width:"600",height:"600",fill:"#fff"}),i.a.createElement("rect",{x:"200",y:"50",width:"200",height:"35",rx:"17.5",ry:"17.5",fill:"#000"}),i.a.createElement("circle",{cx:"300",cy:"300",r:"180",fill:"#000"}),i.a.createElement("circle",{cx:"300",cy:"300",r:"145",fill:"#fff"}),i.a.createElement("rect",{x:"282.5",y:"282.5",width:"35",height:"125",rx:"17.5",ry:"17.5",fill:"#000",className:"logo__clockHand"})),i.a.createElement("rect",{width:"600",height:"600",className:"logo__background"}),i.a.createElement("rect",{x:"199",y:"49",width:"202",height:"37",className:"logo__letter logo__letter--top"}),i.a.createElement("circle",{cx:"300",cy:"300",r:"140",className:"logo__letter logo__letter--circle"}),i.a.createElement("rect",{width:"600",height:"600",className:"logo__shadow",mask:"url(#mask)",style:r}),i.a.createElement("rect",{width:"600",height:"600",className:"logo__foreground",mask:"url(#mask)"})))}}]),a}(s.Component)),b=t(3),v=t.n(b),f=(t(21),function(e){var a=e.inputId,t=e.inputName,s=e.parentName,n=e.value,r=e.label,o=e.isInputValid,l=e.isAlertVisible,c=e.alertText,d=e.isDisabled,m=e.isPreviewMode,u=e.onPreviewModeChange,T=e.onInputBlur,k=e.onInputChange,h="\n    UserInput UserInput--".concat(s," UserInput--").concat(t,"\n  "),p=g()("UserInput__label","UserInput__label--".concat(s),{"UserInput__label--disabled":d}),b=g()("UserInput__input","UserInput__input--".concat(s),{"UserInput__input--disabled":d}),f="login"===t?"text":m?"text":"password",_=g()("UserInput__alertBox","UserInput__alertBox--".concat(s),{"UserInput__alertBox--visible":l}),w=g()("inputPassed","inputPassed--".concat(s),{"inputPassed--visible":o}),C=g()("previewPassword","previewPassword--".concat(s),{"previewPassword--active":m,"previewPassword--disabled":d});return i.a.createElement("div",{className:h},i.a.createElement("label",{htmlFor:a,className:p},r),i.a.createElement("input",{id:a,name:a,value:n,type:f,className:b,spellCheck:"false",maxLength:"20",disabled:d,onBlur:function(e){return function(e){o||T(e,t)}(e.target.value)},onChange:function(e){return k(e.target.value)}}),i.a.createElement("div",{className:_},i.a.createElement("p",{className:"UserInput__alert"},c)),i.a.createElement("div",{className:"UserInput__icons"},"login"===t?i.a.createElement("div",{className:"empty"}):i.a.createElement("button",{type:"button",className:C,onClick:function(){return u(t)}},i.a.createElement("svg",{className:"previewPassword__svg",viewBox:"0 0 100 100"},i.a.createElement("use",{href:"".concat(v.a,"#preview")}))),"loginForm"===s&&"password"===t||"userEdit"===s&&"oldPassword"===t?i.a.createElement("div",{className:"empty"}):i.a.createElement("div",{className:w},i.a.createElement("svg",{className:"inputPassed__svg",viewBox:"0 0 100 100"},i.a.createElement("use",{href:"".concat(v.a,"#passed")})))))}),_=200,w={animationDuration:"".concat(_,"ms")},C=function(e){return e.length>0},E=function(e,a){return/^\d*$/.test(e)&&a>0},N=function(e){return/^\d*$/.test(e)},S=function(e){return e.charAt(0).toUpperCase()+e.substring(1)},B=function(e,a){return 6e4*(e=e?parseInt(e):0)+1e3*(a=a?parseInt(a):0)},y=function(e){return e<10?"0".concat(e):"".concat(e)},M=function(e){return[y(Math.floor(e/6e4)),y(Math.floor(e/1e3%60)),y(Math.floor(e/10%100))]},P=function(e,a,t,s){if("task"===s){var i=B(e,a);if("minutes"===t)return{taskMinutes:e,totalTaskTime:i,totalTaskTimeArray:M(i),isTaskTimeValid:E(e,i)};if("seconds"===t)return{taskSeconds:a,totalTaskTime:i,totalTaskTimeArray:M(i),isTaskTimeValid:E(a,i)}}else if("break"===s){var n=B(e,a);if("minutes"===t)return{breakMinutes:e,totalBreakTime:n,totalBreakTimeArray:M(n),isBreakTimeValid:N(e)};if("seconds"===t)return{breakSeconds:a,totalBreakTime:n,totalBreakTimeArray:M(n),isBreakTimeValid:N(a)}}},A=function(e,a){var t=Object(c.a)(e,2),s=t[0],i=t[1];return s=parseInt(s),i=parseInt(i),"\n    ".concat(s>1?" ".concat(s," minutes"):1===s?" ".concat(s," minute"):"","\n    ").concat(s>0&&(a?0!==a:0!==i)?"and":"","\n    ").concat(i>1?" ".concat(i," seconds"):1===i?" ".concat(i," second"):a&&0!==a?" a split second":"","\n  ")},V=function(e){return{width:"".concat(e/80*100,"%")}},O=function(e){for(var a=function(e){return new Date(e).toISOString().slice(0,10)},t=new Date,s=a(t),i=a(e),n=1,r=200;i!==s&&r>0;)t.setDate(t.getDate()-1),s=a(new Date(t)),n++,r--;return n},I=(t(22),function(e){function a(e){var t;return Object(d.a)(this,a),(t=Object(u.a)(this,Object(T.a)(a).call(this,e))).componentDidMount=function(){var e=t.props,a=e.block,s=e.users,i=Object.values(s).find((function(e){return e.rememberMe}));if("loginForm"===a&&i){var n=i.login,r=i.password;t.setState({login:n,isLoginValid:!0,password:r,isPasswordValid:!0,rememberMe:!0})}},t.handleCardToggle=function(){(0,t.props.onCardToggle)(),t.handleFormReset()},t.handleAlert=function(e,a){var s,i=S(a),n=t.getInputAlert(e,a);t.setState((s={},Object(l.a)(s,"is".concat(i,"AlertVisible"),!0),Object(l.a)(s,"".concat(a,"AlertText"),n),s))},t.getInputAlert=function(e,a){var s=t.state.password,i=""===e,n=/\s/g.test(e),r=e.length<6;switch(a){case"login":var o=t.props,l=o.block,c=o.users,d=Object.values(c).map((function(e){return e.login})).find((function(a){return a===e}));return i?"Please enter your login":"loginForm"===l&&!d?"There is no user with this login":!!(("signupForm"===l||"userEdit"===l)&&d)&&"This login already exist. Try another one";case"password":return i?"Please enter your password":n?"Password cannot contain any spaces":!!r&&"Password should have at least 6 characters";case"confirm":return i?"Please confirm your password":!(s===e)&&"Passwords do not match!";default:return!1}},t.handleLoginValidation=function(e){var a=!!t.getInputAlert(e,"login");t.setState({login:e,isLoginValid:!a,isLoginAlertVisible:!1})},t.handlePasswordValidation=function(e){var a=!!t.getInputAlert(e,"password");t.setState({password:e,isPasswordValid:!a,isPasswordAlertVisible:!1,isPasswordPreviewed:!1,confirm:"",isConfirmValid:!1,isConfirmAlertVisible:!1,isConfirmPreviewMode:!1,isConfirmDisabled:a})},t.handleConfirmValidation=function(e){var a=!!t.getInputAlert(e,"confirm");t.setState({confirm:e,isConfirmValid:!a,isConfirmAlertVisible:!1,isConfirmPreviewed:!1})},t.handlePasswordPreview=function(e){var a=S(e);t.setState((function(e){return Object(l.a)({},"is".concat(a,"PreviewMode"),!e["is".concat(a,"PreviewMode")])}))},t.handleRememberMe=function(){t.setState((function(e){return{rememberMe:!e.rememberMe}}))},t.handleFormReset=function(){t.setState({rememberMe:!1,login:"",isLoginValid:!1,isLoginAlertVisible:!1,password:"",isPasswordValid:!1,isPasswordAlertVisible:!1,isPasswordPreviewMode:!1,confirm:"",isConfirmValid:!1,isConfirmAlertVisible:!1,isConfirmPreviewMode:!1,isConfirmDisabled:!0})},t.handleFormSubmit=function(e){e.preventDefault();var a=t.props,s=a.block,i=a.users,n=a.onUserLogin,r=t.state,o=r.login,l=r.password,c=r.isLoginValid,d=r.isPasswordValid,m=r.isConfirmValid,u=r.rememberMe,T=Object.values(i).find((function(e){return e.login===o})),k="loginForm"===s&&c&&T.password===l;if("loginForm"===s)k?(T.rememberMe=u,n(T,s),t.handleFormReset()):t.setState({password:"",isPasswordValid:!1,isPasswordAlertVisible:!0,passwordAlertText:"Password is wrong!",isPasswordPreviewMode:!1});else if("signupForm"===s){if(!(c&&d&&m))return;n({login:o,password:l,rememberMe:u,tasks:[]},s),t.handleFormReset()}},t.state={rememberMe:!1,login:"",isLoginValid:!1,isLoginAlertVisible:!1,loginAlertText:"Please enter your login",password:"",isPasswordValid:!1,isPasswordAlertVisible:!1,passwordAlertText:"Please enter your password",isPasswordPreviewMode:!1,confirm:"",isConfirmValid:!1,isConfirmAlertVisible:!1,confirmAlertText:"Please confirm your password",isConfirmPreviewMode:!1,isConfirmDisabled:!0},t}return Object(k.a)(a,e),Object(m.a)(a,[{key:"render",value:function(){var e=this.props,a=e.className,t=e.block,s=this.state,n=s.rememberMe,r=s.login,o=s.isLoginValid,l=s.isLoginAlertVisible,c=s.loginAlertText,d=s.password,m=s.isPasswordValid,u=s.isPasswordAlertVisible,T=s.passwordAlertText,k=s.isPasswordPreviewMode,h=s.confirm,p=s.isConfirmValid,b=s.isConfirmAlertVisible,_=s.confirmAlertText,w=s.isConfirmPreviewMode,C=s.isConfirmDisabled,E="loginForm"===t,N=E?"Log In":"Sign Up",S=E?"Log In":"Cancel",B=E?"submit":"button",y=E?"button":"submit",M=E?void 0:this.handleCardToggle,P=E?this.handleCardToggle:void 0,A=g()("remember__checkbox","remember__checkbox--".concat(t),{"remember__checkbox--visible":n});return i.a.createElement("form",{className:a,onSubmit:this.handleFormSubmit},i.a.createElement("h2",{className:"".concat(t,"__heading")},N),i.a.createElement(f,{inputId:"".concat(t,"Login"),inputName:"login",parentName:t,value:r,label:"Login:",isInputValid:o,isAlertVisible:l,alertText:c,onInputBlur:this.handleAlert,onInputChange:this.handleLoginValidation}),i.a.createElement(f,{inputId:"".concat(t,"Password"),inputName:"password",parentName:t,value:d,label:"Password:",isInputValid:m,isAlertVisible:u,alertText:T,isPreviewMode:k,onPreviewModeChange:this.handlePasswordPreview,onInputBlur:this.handleAlert,onInputChange:this.handlePasswordValidation}),E?i.a.createElement("div",{className:"empty"}):i.a.createElement(f,{inputId:"".concat(t,"Confirm"),inputName:"confirm",parentName:t,value:h,label:"Confirm:",isInputValid:p,isAlertVisible:b,alertText:_,isDisabled:C,isPreviewMode:w,onPreviewModeChange:this.handlePasswordPreview,onInputBlur:this.handleAlert,onInputChange:this.handleConfirmValidation}),i.a.createElement("div",{className:"remember"},i.a.createElement("div",{className:"remember__field remember__field--".concat(t),onClick:this.handleRememberMe},i.a.createElement("svg",{className:A},i.a.createElement("use",{href:"".concat(v.a,"#check")}))),i.a.createElement("input",{id:"".concat(t,"Remember"),name:"".concat(t,"Remember"),className:"remember__input remember__input--".concat(t),type:"checkbox"}),i.a.createElement("label",{htmlFor:"".concat(t,"Remember"),className:"remember__label remember__label--".concat(t),onClick:this.handleRememberMe},"Remember Me")),i.a.createElement("button",{className:"".concat(t,"__button ").concat(t,"__button--login"),onClick:M,type:B},S),i.a.createElement("button",{className:"".concat(t,"__button ").concat(t,"__button--signup"),onClick:P,type:y},"Sign Up"))}}]),a}(s.Component)),x=(t(23),function(e){function a(e){var t;return Object(d.a)(this,a),(t=Object(u.a)(this,Object(T.a)(a).call(this,e))).handleCardToggle=function(){t.setState((function(e){return{isLoginFormVisible:!e.isLoginFormVisible,isSignupFormVisible:!e.isSignupFormVisible}}))},t.state={isUserPanelLoaded:!1,isLoginFormVisible:!1,isSignupFormVisible:!1},t}return Object(k.a)(a,e),Object(m.a)(a,[{key:"componentDidMount",value:function(){this.setState({isUserPanelLoaded:!0,isLoginFormVisible:!0})}},{key:"render",value:function(){var e=this.props,a=e.onUserLogin,t=e.users,s=this.state,n=s.isUserPanelLoaded,r=s.isLoginFormVisible,o=s.isSignupFormVisible,l=g()("UserPanel",{"UserPanel--visible":n}),c=g()("loginForm",{"loginForm--rotateIn":r,"loginForm--rotateOut":!r}),d=g()("signupForm",{"signupForm--rotateIn":o,"signupForm--rotateOut":!o});return i.a.createElement("div",{className:l},i.a.createElement("p",{className:"UserPanel__logo"},"task",i.a.createElement("span",{className:"UserPanel__logo--color"},"Timer")),i.a.createElement("div",{className:"UserPanel__container"},i.a.createElement(I,{className:c,block:"loginForm",onUserLogin:a,users:t,onCardToggle:this.handleCardToggle}),i.a.createElement(I,{className:d,block:"signupForm",onUserLogin:a,users:t,onCardToggle:this.handleCardToggle})))}}]),a}(s.Component)),j=(t(24),function(e){var a=e.parentName,t=e.isEditMode,s=e.editedSetting,n=e.onPreviewModeChange,r=e.onInputBlur,o=e.handleLoginValidation,c=e.handleOldPasswordValidation,d=e.handleNewPasswordValidation,m=e.handleConfirmValidation,u=e.state,T=u.login,k=u.isLoginValid,h=u.isLoginAlertVisible,p=u.loginAlertText,b=u.oldPassword,v=u.isOldPasswordValid,_=u.isOldPasswordAlertVisible,w=u.oldPasswordAlertText,C=u.isOldPasswordPreviewMode,E=u.newPassword,N=u.isNewPasswordValid,S=u.isNewPasswordAlertVisible,B=u.newPasswordAlertText,y=u.isNewPasswordPreviewMode,M=u.confirm,P=u.isConfirmValid,A=u.isConfirmAlertVisible,V=u.confirmAlertText,O=u.isConfirmPreviewMode,I=u.isConfirmDisabled,x=g()("UserEdit",Object(l.a)({"UserEdit--hidden":!t},"UserEdit--".concat(s),t));return i.a.createElement(i.a.Fragment,null,"login"===s?i.a.createElement("div",{className:x},i.a.createElement(f,{inputId:"".concat(a,"Login"),inputName:"login",parentName:a,value:T,label:"New Login:",isInputValid:k,isAlertVisible:h,alertText:p,onInputBlur:r,onInputChange:o})):"password"===s?i.a.createElement("div",{className:x},i.a.createElement(f,{inputId:"".concat(a,"OldPassword"),inputName:"oldPassword",parentName:a,value:b,label:"Old Password:",isInputValid:v,isAlertVisible:_,alertText:w,isPreviewMode:C,onPreviewModeChange:n,onInputBlur:r,onInputChange:c}),i.a.createElement(f,{inputId:"".concat(a,"NewPassword"),inputName:"newPassword",parentName:a,value:E,label:"New Password:",isInputValid:N,isAlertVisible:S,alertText:B,isPreviewMode:y,onPreviewModeChange:n,onInputBlur:r,onInputChange:d}),i.a.createElement(f,{inputId:"".concat(a,"Confirm"),inputName:"confirm",parentName:a,value:M,label:"Confirm:",isInputValid:P,isAlertVisible:A,alertText:V,isDisabled:I,isPreviewMode:O,onPreviewModeChange:n,onInputBlur:r,onInputChange:m})):"logout"===s?i.a.createElement("div",{className:x},i.a.createElement("p",{className:"UserEdit__text"},"Log out?")):i.a.createElement("div",{className:x},i.a.createElement("p",{className:"UserEdit__text"},"Remove user?")))}),U=(t(25),function(e){function a(e){var t;return Object(d.a)(this,a),(t=Object(u.a)(this,Object(T.a)(a).call(this,e))).handleStateChange=function(e){return t.setState(e)},t.handleAlert=function(e,a){var s,i=S(a),n=t.getInputAlert(e,a);t.setState((s={},Object(l.a)(s,"is".concat(i,"AlertVisible"),!0),Object(l.a)(s,"".concat(a,"AlertText"),n),s))},t.getInputAlert=function(e,a){var s=t.state.newPassword,i=""===e,n=/\s/g.test(e),r=e.length<6;switch(a){case"login":var o=t.props,l=o.block,c=o.users,d=c[o.loggedUserId].login,m=Object.values(c).map((function(e){return e.login})).find((function(a){return a===e&&a!==d}));return i?"Please enter your login":"loginForm"===l&&!m?"There is no user with this login":!!(("signupForm"===l||"userEdit"===l)&&m)&&"This login already exist. Try another one";case"password":case"oldPassword":case"newPassword":return i?"Please enter your password":n?"Password cannot contain any spaces":!!r&&"Password should have at least 6 characters";case"confirm":return i?"Please confirm your password":!(s===e)&&"Passwords do not match!";default:return!1}},t.handleLoginValidation=function(e){var a=!!t.getInputAlert(e,"login");t.setState({login:e,isLoginValid:!a,isLoginAlertVisible:!1})},t.handleOldPasswordValidation=function(e){var a=!!t.getInputAlert(e,"password");t.setState({oldPassword:e,isOldPasswordValid:!a,isOldPasswordAlertVisible:!1,isOldPasswordPreviewed:!1})},t.handleNewPasswordValidation=function(e){var a=!!t.getInputAlert(e,"password");t.setState({newPassword:e,isNewPasswordValid:!a,isNewPasswordAlertVisible:!1,isNewPasswordPreviewed:!1,confirm:"",isConfirmValid:!1,isConfirmAlertVisible:!1,isConfirmPreviewMode:!1,isConfirmDisabled:a})},t.handleConfirmValidation=function(e){var a=!!t.getInputAlert(e,"confirm");t.setState({confirm:e,isConfirmValid:!a,isConfirmAlertVisible:!1,isConfirmPreviewed:!1})},t.handlePasswordPreview=function(e){var a=S(e);t.setState((function(e){return Object(l.a)({},"is".concat(a,"PreviewMode"),!e["is".concat(a,"PreviewMode")])}))},t.handleUserEdit=function(e){var a=t.props,s=a.onUserUpdate,i=a.onUserLogout,n=a.onUserRemove,r=a.users,o=a.loggedUserId,l=t.state,c=l.editedSetting,d=l.login,m=l.oldPassword,u=l.newPassword,T=r[o];if("confirm"===e)switch(c){case"login":s(d,"login"),t.setState({isEditMode:!1});break;case"password":m!==T.password?(t.handleInputsReset(),t.setState({isOldPasswordAlertVisible:!0,oldPasswordAlertText:"Password is wrong!"})):(s(u,"password"),t.setState({isEditMode:!1}),t.handleInputsReset());break;case"logout":i();break;case"remove":n()}else"cancel"===e?(t.setState({isEditMode:!1}),t.handleInputsReset()):t.setState({isEditMode:!0,editedSetting:e})},t.handleInputsReset=function(){t.setState({login:"",isLoginValid:!1,isLoginAlertVisible:!1,loginAlertText:"Please enter your login",oldPassword:"",isOldPasswordValid:!1,isOldPasswordAlertVisible:!1,oldPasswordAlertText:"Please enter your old password",isOldPasswordPreviewMode:!1,newPassword:"",isNewPasswordValid:!1,isNewPasswordAlertVisible:!1,newPasswordAlertText:"Please enter your new password",isNewPasswordPreviewMode:!1,confirm:"",isConfirmValid:!1,isConfirmAlertVisible:!1,confirmAlertText:"Please confirm your password",isConfirmPreviewMode:!1,isConfirmDisabled:!0})},t.state={isEditMode:!1,editedSetting:null,login:"",isLoginValid:!1,isLoginAlertVisible:!1,loginAlertText:"Please enter your login",oldPassword:"",isOldPasswordValid:!1,isOldPasswordAlertVisible:!1,oldPasswordAlertText:"Please enter your old password",isOldPasswordPreviewMode:!1,newPassword:"",isNewPasswordValid:!1,isNewPasswordAlertVisible:!1,newPasswordAlertText:"Please enter your new password",isNewPasswordPreviewMode:!1,confirm:"",isConfirmValid:!1,isConfirmAlertVisible:!1,confirmAlertText:"Please confirm your password",isConfirmPreviewMode:!1,isConfirmDisabled:!0},t}return Object(k.a)(a,e),Object(m.a)(a,[{key:"render",value:function(){var e=this,a=this.props,t=a.block,s=a.isSidebarVisible,n=a.users,r=a.loggedUserId,l=this.state,c=l.isEditMode,d=l.editedSetting,m=l.isLoginValid,u=l.isOldPasswordValid,T=l.isNewPasswordValid,k=l.isConfirmValid,h=n[r],p=h.login,b=h.stats,f=["Change your login","Change your password","Log out to main app","Remove your profile"],_={finishedTasks:"Tasks finished:",avgTaskTime:"Average task time:",avgBreakTime:"Average break time:",avgTasksPerDay:"Average tasks per day:",dateCreated:"Profile created at:"},w=Object.keys(_),C=g()("Sidebar",{"Sidebar--visible":s}),E=g()("userButtons","userButtons--edit",{"userButtons--visible":!c}),N=g()("userButtons","userButtons--confirm",{"userButtons--visible":c});return i.a.createElement("section",{className:C},i.a.createElement("h2",{className:"Sidebar__userLogin"},p),i.a.createElement(j,{parentName:t,state:this.state,isEditMode:c,editedSetting:d,onPreviewModeChange:this.handlePasswordPreview,onInputBlur:this.handleAlert,handleLoginValidation:this.handleLoginValidation,handleOldPasswordValidation:this.handleOldPasswordValidation,handleNewPasswordValidation:this.handleNewPasswordValidation,handleConfirmValidation:this.handleConfirmValidation}),i.a.createElement("div",{className:"Sidebar__buttons"},i.a.createElement("div",{className:E},["login","password","logout","remove"].map((function(a,t){var n=g()("userButtons__button","userButtons__button--".concat(a),{"userButtons__button--visible":!c}),r=s&&!c?"0":"-1";return i.a.createElement("button",{className:n,key:a,title:f[t],onClick:function(){return e.handleUserEdit(a)},tabIndex:r},i.a.createElement("svg",{className:"userButtons__svg",viewBox:"0 0 100 100"},i.a.createElement("use",{href:"".concat(v.a,"#").concat(a,"Edit")})))}))),i.a.createElement("div",{className:N},["confirm","cancel"].map((function(a){var t=("login"===d?!m:"password"===d&&(!u||!T||!k))&&"confirm"===a,n=g()("userButtons__button","userButtons__button--".concat(a),{"userButtons__button--visible":c,"userButtons__button--disabled":t}),r=s&&c?"0":"-1";return i.a.createElement("button",{className:n,key:a,onClick:function(){return e.handleUserEdit(a)},disabled:t,tabIndex:r},i.a.createElement("svg",{className:"userButtons__svg",viewBox:"0 0 100 100"},i.a.createElement("use",{href:"".concat(v.a,"#").concat(a,"Edit")})))})))),i.a.createElement("section",{className:"Sidebar__section"},i.a.createElement("h3",{className:"Sidebar__heading"},"Stats"),i.a.createElement("table",{className:"stats"},i.a.createElement("caption",{className:"stats__caption visuallyhidden"},"Stats"),i.a.createElement("thead",{className:"stats__header visuallyhidden"},i.a.createElement("tr",{className:"stats__row"},i.a.createElement("th",{className:"stats__cell"},"Name"),i.a.createElement("th",{className:"stats__cell"},"Value"))),i.a.createElement("tbody",{className:"stats__body"},Object(o.a)(w).map((function(e){return i.a.createElement("tr",{className:"stats__row",key:e},i.a.createElement("th",{className:"stats__cell stats__cell--name",scope:"row"},_[e]),i.a.createElement("td",{className:"stats__cell stats__cell--value"},b[e]))}))))),i.a.createElement("section",{className:"Sidebar__section"},i.a.createElement("h3",{className:"Sidebar__heading"},"Color Theme"),i.a.createElement("p",{className:"Sidebar__text"},"To be added soon...")))}}]),a}(s.Component)),D=(t(26),function(e){var a,t=e.isVisible,s=e.isValid,n=e.modifier,r=e.title,o=e.label,c=e.minutes,d=e.seconds,m=e.placeholder,u=e.slideDirection,T=e.taskNameLength,k=e.onTaskNameChange,h=e.onMinutesChange,p=e.onSecondsChange,b=e.alertFlag,v=g()("CreatorInput",(a={},Object(l.a)(a,"CreatorInput--".concat(n),t),Object(l.a)(a,"showFromRight",t&&"toRight"===u),Object(l.a)(a,"hideToLeft",!t&&"toRight"===u),Object(l.a)(a,"showFromLeft",t&&"toLeft"===u),Object(l.a)(a,"hideToRight",!t&&"toLeft"===u),a)),f=g()("CreatorInput__text",{"CreatorInput__text--invalid":!s&&b}),_=g()("CreatorInput__inputs",{"CreatorInput__inputs--invalid":!s&&b}),w=g()("CreatorInput__input","CreatorInput__input--minutes",{"CreatorInput__input--invalid":!s&&b}),C=g()("CreatorInput__input","CreatorInput__input--seconds",{"CreatorInput__input--invalid":!s&&b});return i.a.createElement("div",{className:v},i.a.createElement("label",{htmlFor:n,className:"CreatorInput__label"},o),"taskName"===n?i.a.createElement("div",{className:"CreatorInput__textContainer"},i.a.createElement("textarea",{id:n,className:f,placeholder:m,spellCheck:"false",maxLength:80,value:r,onChange:function(e){return k(e.target.value)}}),i.a.createElement("div",{className:"CreatorInput__progress",style:V(T)})):i.a.createElement("div",{className:_},i.a.createElement("input",{id:n,name:"".concat(n,"Minutes"),className:w,placeholder:"min",maxLength:"2",value:c,onChange:function(e){return h(e.target.value)}}),i.a.createElement("span",{className:"CreatorInput__colon"},":"),i.a.createElement("input",{name:"".concat(n,"Seconds"),className:C,placeholder:"sec",maxLength:"2",value:d,onChange:function(e){return p(e.target.value)}})))}),L=(t(27),function(e){function a(e){var t;return Object(d.a)(this,a),(t=Object(u.a)(this,Object(T.a)(a).call(this,e))).componentWillUnmount=function(){clearTimeout(t.timeoutOutroId)},t.handleStateChange=function(e){return t.setState(e)},t.handleTaskName=function(e){t.setState({creatorTaskName:e,taskNameLength:e.length,isTaskNameValid:C(e),alertFlag:!0})},t.addNewTask=function(){var e=t.props,a=e.onBoardStateChange,s=e.onTaskEdit,i=t.state,n={taskName:i.creatorTaskName,taskMinutes:i.creatorTaskMinutes,taskSeconds:i.creatorTaskSeconds,breakMinutes:i.creatorBreakMinutes,breakSeconds:i.creatorBreakSeconds,totalTaskTime:i.creatorTotalTaskTime,totalBreakTime:i.creatorTotalBreakTime,totalTaskTimeArray:i.creatorTaskTimeArray,totalBreakTimeArray:i.creatorBreakTimeArray,id:Date.now()};a({isCreatorVisible:!1}),s(n,"add")},t.handleTimeChange=function(e,a,s,i){var n=P(e,a,s,i);if("task"===i){if("minutes"===s){var r=n.taskMinutes,o=n.totalTaskTime,l=n.totalTaskTimeArray,c=n.isTaskTimeValid;t.setState({creatorTaskMinutes:r,creatorTotalTaskTime:o,creatorTaskTimeArray:l,isTaskTimeValid:c,alertFlag:!0})}else if("seconds"===s){var d=n.taskSeconds,m=n.totalTaskTime,u=n.totalTaskTimeArray,T=n.isTaskTimeValid;t.setState({creatorTaskSeconds:d,creatorTotalTaskTime:m,creatorTaskTimeArray:u,isTaskTimeValid:T,alertFlag:!0})}}else if("break"===i)if("minutes"===s){var k=n.breakMinutes,h=n.totalBreakTime,g=n.totalBreakTimeArray,p=n.isBreakTimeValid;t.setState({creatorBreakMinutes:k,creatorTotalBreakTime:h,creatorBreakTimeArray:g,isBreakTimeValid:p,alertFlag:!0})}else if("seconds"===s){var b=n.breakSeconds,v=n.totalBreakTime,f=n.totalBreakTimeArray,_=n.isBreakTimeValid;t.setState({creatorBreakSeconds:b,creatorTotalBreakTime:v,creatorBreakTimeArray:f,isBreakTimeValid:_,alertFlag:!0})}},t.handleBackButton=function(e){e.preventDefault();var a=t.state,s=a.isTaskTimeVisible,i=a.isBreakTimeVisible;s&&t.setState({isTaskNameVisible:!0,isTaskTimeVisible:!1,slideDirection:"toLeft"}),i&&t.setState({isTaskTimeVisible:!0,isBreakTimeVisible:!1,slideDirection:"toLeft"})},t.handleNextButton=function(e){e.preventDefault();var a=t.state,s=a.isTaskNameVisible,i=a.isTaskTimeVisible,n=a.isBreakTimeVisible,r=a.isTaskNameValid,o=a.isTaskTimeValid,l=a.isBreakTimeValid;s&&r&&t.setState({isTaskNameVisible:!1,isTaskTimeVisible:!0,alertFlag:!1,slideDirection:"toRight"}),i&&o&&t.setState({isTaskTimeVisible:!1,isBreakTimeVisible:!0,alertFlag:!1,slideDirection:"toRight"}),n&&l&&(t.setState({isCreatorValid:!0,alertFlag:!1,isCreatorRotatingOut:!0,slideDirection:"toRight"}),t.timeoutOutroId=setTimeout((function(){return t.addNewTask()}),_))},t.handleCreatorClose=function(e){e.preventDefault(),(0,t.props.onBoardStateChange)({isCreatorVisible:!1})},t.state={isCreatorRotatingOut:!1,isTaskNameVisible:!0,isTaskTimeVisible:!1,isBreakTimeVisible:!1,creatorTaskName:"",creatorTaskMinutes:"",creatorTaskSeconds:"",creatorBreakMinutes:"",creatorBreakSeconds:"",creatorTotalTaskTime:0,creatorTotalBreakTime:0,taskNameLength:0,creatorTaskTimeArray:["00","00"],creatorBreakTimeArray:["00","00"],isTaskNameValid:!1,isTaskTimeValid:!1,isBreakTimeValid:!0,isCreatorValid:!1,alertFlag:!1,slideDirection:null},t}return Object(k.a)(a,e),Object(m.a)(a,[{key:"render",value:function(){var e=this,a=this.state,t=a.isCreatorRotatingOut,s=a.isTaskNameVisible,n=a.isTaskTimeVisible,r=a.isBreakTimeVisible,o=a.creatorTaskName,l=a.creatorTaskMinutes,c=a.creatorTaskSeconds,d=a.creatorBreakMinutes,m=a.creatorBreakSeconds,u=a.taskNameLength,T=a.isTaskNameValid,k=a.isTaskTimeValid,h=a.isBreakTimeValid,p=a.isCreatorValid,b=a.alertFlag,f=a.slideDirection,_=s&&T||n&&k||r&&h,C=g()("Creator",{"Creator--rotateOut":t}),E=g()("Creator__button","Creator__button--back",{"Creator__button--visible":!s}),N=g()("Creator__button","Creator__button--next",{"Creator__button--visible":_}),S={width:n?"".concat(1/3*100,"%"):r?p?"100%":"".concat(2/3*100,"%"):0};return i.a.createElement("form",{className:C,style:w},i.a.createElement(D,{isVisible:s,isValid:T,modifier:"taskName",title:o,label:"Enter task name",placeholder:"What would be your next task?",alertFlag:b,onTaskNameChange:this.handleTaskName,slideDirection:f,taskNameLength:u}),i.a.createElement(D,{isVisible:n,isValid:k,modifier:"taskTime",label:"Enter task time",placeholder:"Enter time here...",minutes:l,seconds:c,alertFlag:b,slideDirection:f,onMinutesChange:function(a){return e.handleTimeChange(a,c,"minutes","task")},onSecondsChange:function(a){return e.handleTimeChange(l,a,"seconds","task")}}),i.a.createElement(D,{isVisible:r,isValid:h,modifier:"breakTime",label:"Enter max break time",placeholder:"Enter time here...",minutes:d,seconds:m,alertFlag:b,slideDirection:f,onMinutesChange:function(a){return e.handleTimeChange(a,m,"minutes","break")},onSecondsChange:function(a){return e.handleTimeChange(d,a,"seconds","break")}}),i.a.createElement("button",{className:E,onClick:this.handleBackButton},i.a.createElement("svg",{className:"Creator__svg",viewBox:"0 0 512 512"},i.a.createElement("use",{href:"".concat(v.a,"#arrow-left")}))),i.a.createElement("button",{className:N,onClick:this.handleNextButton},i.a.createElement("svg",{className:"Creator__svg",viewBox:"0 0 512 512"},i.a.createElement("use",{href:"".concat(v.a,"#arrow-right")}))),i.a.createElement("button",{className:"Creator__button Creator__button--visible Creator__button--close",onClick:this.handleCreatorClose},i.a.createElement("svg",{className:"Creator__svg",viewBox:"0 0 512 512"},i.a.createElement("use",{href:"".concat(v.a,"#remove")}))),i.a.createElement("div",{className:"progressBar"},i.a.createElement("div",{className:"progressBar__loaded",style:S})))}}]),a}(s.Component)),F=(t(28),function(e){var a=e.output,t=e.isValid,s=e.isMaximized,n=e.taskNameLength,r=e.isDisabled,o=e.isEditMode,l=e.onTaskNameChange,c=e.onEditModeChange,d=g()("taskName",{"taskName--disabled":r,"taskName--maximized":s}),m=g()("taskName__text",{"taskName__text--visible":!o}),u=g()("taskName__inputContainer",{"taskName__inputContainer--visible":o}),T=g()("taskName__input",{"taskName__input--incorrect":!t}),k=g()("taskName__progress",{"taskName__progress--visible":o});return i.a.createElement("div",{className:d},i.a.createElement("h2",{className:m,onClick:c},'"'.concat(a,'"')),i.a.createElement("div",{className:u},i.a.createElement("textarea",{className:T,value:a,spellCheck:"false",maxLength:80,onChange:function(e){return l(e.target.value)}}),i.a.createElement("div",{className:k,style:V(n)})))}),R=function(e){var a=e.id,t=e.name,s=e.unit,n=e.time,r=e.isEditMode,o=e.onTimeChange,l=e.onEditModeChange,c=g()("TotalTime__text",{"TotalTime__text--visible":!r}),d=g()("TotalTime__input","TotalTime__input--".concat(s),{"TotalTime__input--visible":r}),m=s.slice(0,3);return i.a.createElement("div",{className:"TotalTime__unit TotalTime__unit--".concat(s)},i.a.createElement("p",{className:c,onClick:l},n),i.a.createElement("input",{id:a,name:t,className:d,placeholder:m,maxLength:"2",value:n,onChange:function(e){return o(e.target.value)}}))},z=(t(29),function(e){var a=e.modifier,t=e.value,s=e.isValid,n=e.isEditMode,r=e.onTimeChange,o=function(e,a){var t=function(e,a,t,s){var i="increase"===a?parseInt(e)+1:parseInt(e)-1;return y(i>=t&&i<=s?i:i<t?t:s)}(e=""===e?0:e,a,0,99);r(t)},l=g()("Spinners",["Spinners--".concat(a)],{"Spinners--visible":n,"Spinners--disabled":!s});return i.a.createElement("div",{className:l},i.a.createElement("button",{className:"Spinners__button Spinners__button--increase",onClick:function(){return o(t,"increase")},disabled:!s},i.a.createElement("svg",{className:"Spinners__svg",viewBox:"0 0 512 512"},i.a.createElement("use",{href:"".concat(v.a,"#arrow-up")}))),i.a.createElement("button",{className:"Spinners__button Spinners__button--decrease",onClick:function(){return o(t,"decrease")},disabled:!s},i.a.createElement("svg",{className:"Spinners__svg",viewBox:"0 0 512 512"},i.a.createElement("use",{href:"".concat(v.a,"#arrow-down")}))))}),Y=(t(30),function(e){var a=e.labelName,t=e.modifier,s=e.id,n=e.isMaximized,r=e.minutes,o=e.seconds,l=e.isValid,c=e.isDisabled,d=e.isEditMode,m=e.isCardEditMode,u=e.onEditModeChange,T=e.onMinutesChange,k=e.onSecondsChange,h=e.onKeyPress,p=g()("TotalTime TotalTime--".concat(t),{"TotalTime--maximized":n,"TotalTime--disabled":c,"TotalTime--main":!m&&"taskTime"===t}),b=g()("TotalTime__label",{"TotalTime__label--editMode":d}),v=g()("TotalTime__display",{"TotalTime__display--editMode":d,"TotalTime__display--incorrect":!l});return i.a.createElement("div",{className:p},i.a.createElement("label",{className:b,htmlFor:"".concat(t,"-").concat(s),onClick:u},a),i.a.createElement("div",{className:v,onKeyDown:function(e){return h(e.key)}},i.a.createElement(z,{modifier:"minutes",value:r,isValid:l,isEditMode:d,onTimeChange:function(e){return T(e)}}),i.a.createElement(R,{id:"".concat(t,"-").concat(s),name:"".concat(t,"Minutes"),unit:"minutes",time:r,isEditMode:d,onTimeChange:function(e){return T(e)},onEditModeChange:u}),i.a.createElement("span",{className:"TotalTime__colon"}," : "),i.a.createElement(R,{name:"".concat(t,"Seconds"),unit:"seconds",time:o,isEditMode:d,onTimeChange:function(e){return k(e)},onEditModeChange:u}),i.a.createElement(z,{modifier:"seconds",value:o,isValid:l,isEditMode:d,onTimeChange:function(e){return k(e)}})))}),X=(t(31),function(e){var a=e.isMaximized,t=e.editModeActive,s=e.inputInvalid,n=e.cardRotatingMode,r=e.onAcceptButtonClick,o=e.onRemoveButtonClick,l=e.onTaskStateChange,c=e.onBoardStateChange,d=e.onDrag,m=g()("CardButtons",{"CardButtons--maximized":a}),u=g()("CardButtons__button","CardButtons__button--accept",{"CardButtons__button--visible":t,"CardButtons__button--disabled":s||n}),T=g()("CardButtons__button",{"CardButtons__button--disabled":t||n,"CardButtons__button--visible":a});return i.a.createElement("div",{className:m},i.a.createElement("button",{className:u,onClick:r},i.a.createElement("svg",{className:"CardButtons__svg",viewBox:"0 0 512 512"},i.a.createElement("use",{href:"".concat(v.a,"#tick")}))),i.a.createElement("button",{className:T,onClick:function(){l((function(e){return{isMaximized:!e.isMaximized}})),c({isPlaceholderVisible:!1})},disabled:t||n},i.a.createElement("svg",{className:"CardButtons__svg",viewBox:"0 0 512 512"},i.a.createElement("use",{href:"".concat(v.a,"#minimize")}))),i.a.createElement("button",{className:T,onMouseDown:d,disabled:t||n},i.a.createElement("svg",{className:"CardButtons__svg",viewBox:"0 0 100 100"},i.a.createElement("use",{href:"".concat(v.a,"#drag")}))),i.a.createElement("button",{className:T,onClick:o,disabled:t||n},i.a.createElement("svg",{className:"CardButtons__svg",viewBox:"0 0 512 512"},i.a.createElement("use",{href:"".concat(v.a,"#remove")}))))}),W=(t(32),function(e){var a=e.alertText,t=e.isStopAlertVisible,s=e.onStopCancel,n=e.onStopConfirm,r=g()("StopAlert",{"StopAlert--visible":t}),o=g()("StopAlert__container",{"StopAlert__container--visible":t});return i.a.createElement("section",{className:r},i.a.createElement("div",{className:o},i.a.createElement("h2",{className:"StopAlert__heading"},a),i.a.createElement("button",{className:"StopAlert__button StopAlert__button--stop",onClick:n},"Yes"),i.a.createElement("button",{className:"StopAlert__button StopAlert__button--cancel",onClick:s},"Cancel")))}),K=(t(33),function(e){var a=e.type,t=e.elapsedTimeArray,s=e.remainingTimeArray,n=e.isElapsedMode,r="taskTime"===a?t.join(" : "):t.slice(0,2).join(" : "),o="taskTime"===a?s.join(" : "):s.slice(0,2).join(" : "),l=g()("TimeDisplay__type","TimeDisplay__type--elapsed",{"TimeDisplay__type--visible":n,"TimeDisplay__type--showUp":n,"TimeDisplay__type--hideUp":!n}),c=g()("TimeDisplay__type","TimeDisplay__type--remaining",{"TimeDisplay__type--visible":!n,"TimeDisplay__type--showUp":!n,"TimeDisplay__type--hideUp":n});return i.a.createElement("div",{className:"TimeDisplay"},i.a.createElement("div",{className:l},r),i.a.createElement("div",{className:c},o))}),J=(t(34),function(e){var a=e.modifier,t=e.isElapsedMode,s=e.elapsedTimeArray,n=e.remainingTimeArray,r=e.isCountdownVisible,o=e.totalBreaks,l=g()("Countdown Countdown--".concat(a),{"Countdown--visible":r,showFromRight:r&&o>0,hideToLeft:!r});return i.a.createElement("div",{className:l},"taskTime"===a?i.a.createElement("h3",{className:"Countdown__heading"},"Working Mode"):i.a.createElement("h3",{className:"Countdown__heading"},"Break Mode"),t?i.a.createElement("p",{className:"Countdown__timeType"},"Elapsed Time"):i.a.createElement("p",{className:"Countdown__timeType"},"Remaining Time"),i.a.createElement(K,{type:a,isElapsedMode:t,elapsedTimeArray:s,remainingTimeArray:n}))}),H=(t(35),function(e){var a=e.modifier,t=e.isVisible,s=e.isElapsedMode,n=e.elapsedPercent,r=e.remainingPercent,o=g()("Progress","Progress--".concat(a),{"Progress--visible":t}),l=g()("Progress__percent","Progress__percent--".concat(a),{"Progress__percent--visible":s}),c=g()("Progress__percent","Progress__percent--".concat(a),{"Progress__percent--visible":!s}),d="\n    Progress__part Progress__part--loading Progress__part--".concat(a,"\n  "),m="\n    Progress__part Progress__part--unloading Progress__part--".concat(a,"\n  "),u="".concat(Math.round(n),"%"),T="".concat(Math.round(r),"%"),k={width:"".concat(s?n:r,"%")},h={width:"".concat(s?r:n,"%")};return i.a.createElement("section",{className:o},i.a.createElement("header",{className:"Progress__header"},i.a.createElement("p",{className:l},u),i.a.createElement("p",{className:c},T)),i.a.createElement("div",{className:"Progress__bar"},i.a.createElement("div",{className:d,style:k}),i.a.createElement("div",{className:m,style:h})))}),$=(t(36),function(e){function a(){var e,t;Object(d.a)(this,a);for(var s=arguments.length,i=new Array(s),n=0;n<s;n++)i[n]=arguments[n];return(t=Object(u.a)(this,(e=Object(T.a)(a)).call.apply(e,[this].concat(i)))).handlePlayPauseButton=function(){var e=t.props,a=e.isTaskTimeActive,s=e.isBreakTimeActive,i=e.onTimerStateChange,n=e.onCardStateChange;(a||s)&&(n((function(e){return{isTaskTimeActive:!e.isTaskTimeActive,isBreakTimeActive:!e.isBreakTimeActive}})),i({previousTime:Date.now()})),a&&i((function(e){return{totalBreaks:e.totalBreaks+1}}))},t}return Object(k.a)(a,e),Object(m.a)(a,[{key:"render",value:function(){var e=this.props,a=e.isTaskTimeActive,t=e.onStopButtonClick,s=e.cardRotatingMode,n=e.onDisplayModeChange,r=g()("Controls__svg",{"Controls__svg--hidden":a}),o=g()("Controls__svg",{"Controls__svg--hidden":!a}),l=g()("Controls__button","Controls__button--playPause",{"Controls__button--disabled":s}),c=g()("Controls__button","Controls__button--stop",{"Controls__button--disabled":s}),d=g()("Controls__button","Controls__button--toggle",{"Controls__button--disabled":s});return i.a.createElement("div",{className:"Controls"},i.a.createElement("button",{className:l,onClick:this.handlePlayPauseButton,disabled:s},i.a.createElement("svg",{className:r,viewBox:"0 0 100 100"},i.a.createElement("use",{href:"".concat(v.a,"#play")})),i.a.createElement("svg",{className:o,viewBox:"0 0 100 100"},i.a.createElement("use",{href:"".concat(v.a,"#pause")}))),i.a.createElement("button",{className:c,onClick:t,disabled:s},i.a.createElement("svg",{className:"Controls__svg",viewBox:"0 0 100 100"},i.a.createElement("use",{href:"".concat(v.a,"#stop")}))),i.a.createElement("button",{className:d,onClick:n,disabled:s},i.a.createElement("svg",{className:"Controls__svg",viewBox:"0 0 100 100"},i.a.createElement("use",{href:"".concat(v.a,"#toggle")}))))}}]),a}(s.Component)),q=(t(37),function(e){function a(){return Object(d.a)(this,a),Object(u.a)(this,Object(T.a)(a).apply(this,arguments))}return Object(k.a)(a,e),Object(m.a)(a,[{key:"render",value:function(){var e,a=this.props,t=a.taskName,s=a.isTaskFinished,n=a.onTaskRemove,r=a.onTimerRestart,o=a.id,c=this.props.state,d=c.totalBreakTime,m=c.totalBreaks,u=c.elapsedBreakTime,T=c.elapsedBreakTimeArray,k=c.overallTime,h=c.overallTimeArray,p=m>1?" ".concat(m," breaks "):1===m?" ".concat(m," break "):" no brakes ",b=m?" ".concat(Math.round(u/k*100),"%"):"",f=A(h),_=A(T,u),w=g()("Finish",(e={},Object(l.a)(e,"Finish--success",s),Object(l.a)(e,"Finish--failure",!s),e));return i.a.createElement("section",{className:w},s?i.a.createElement("h2",{className:"Finish__heading"},"Time is up!"):0===d?i.a.createElement("h2",{className:"Finish__heading"},"No breaks allowed!"):i.a.createElement("h2",{className:"Finish__heading"},"Too long break!"),s?i.a.createElement("p",{className:"Finish__message"},"You have finished your task: ",i.a.createElement("br",null),i.a.createElement("span",{className:"Finish__accent"},'"'.concat(t,'"')),i.a.createElement("br",null),"in",i.a.createElement("span",{className:"Finish__accent"},f),"".concat(u>0?" including break time.":".")," ",i.a.createElement("br",null),"You had",i.a.createElement("span",{className:"Finish__accent"},p),"during this task",i.a.createElement("span",{className:"Finish__accent"},_),m?" long, what makes it around":"",i.a.createElement("span",{className:"Finish__accent"},b),m?" of all time.":"."):0===d?i.a.createElement("p",{className:"Finish__message"},"You cannot have any breaks during this task! Try again.."):i.a.createElement("p",{className:"Finish__message"},"You spent too much time on breaks! ",i.a.createElement("br",null),"You had",i.a.createElement("span",{className:"Finish__accent"},p),"during this task",i.a.createElement("span",{className:"Finish__accent"},_),m?" long, what makes it around":"",i.a.createElement("span",{className:"Finish__accent"},b),m?" of all time.":"."),i.a.createElement("button",{className:"Finish__button Finish__button--restart",onClick:r},i.a.createElement("svg",{className:"Finish__svg",viewBox:"0 0 100 100"},i.a.createElement("use",{href:"".concat(v.a,"#retry")}))),i.a.createElement("button",{className:"Finish__button Finish__button--remove",onClick:function(){return n(o)}},i.a.createElement("svg",{className:"Task__svg",viewBox:"0 0 512 512"},i.a.createElement("use",{href:"".concat(v.a,"#remove")}))))}}]),a}(s.Component)),Q=(t(38),function(e){function a(e){var t;Object(d.a)(this,a),(t=Object(u.a)(this,Object(T.a)(a).call(this,e))).handleRotatingStatus=function(){var e=t.props.onCardStateChange;setTimeout((function(){e({isTaskRotatingIn:!0,isTaskRotatingOut:!1})}),_),setTimeout((function(){e({isTaskRotatingIn:!1})}),2*_)},t.handleTimerStop=function(){var e=t.props.onCardStateChange;e({isTaskRotatingOut:!0,isTimerStarted:!1}),t.setState({isStopAlertVisible:!1}),t.timeoutId=setTimeout((function(){e({isTimerMounted:!1}),clearTimeout(t.timeoutId)}),_),t.handleRotatingStatus()},t.handleStateChange=function(e){return t.setState(e)},t.handleTimeDisplayMode=function(){var e=t.props.state.isTaskTimeActive?"Task":"Break";t.setState((function(a){return Object(l.a)({},"is".concat(e,"TimeElapsedMode"),!a["is".concat(e,"TimeElapsedMode")])}))},t.handleAlertVisibility=function(){t.setState((function(e){return{isStopAlertVisible:!e.isStopAlertVisible}}))},t.handleTimeTick=function(e){if(t.props.state["is".concat(e,"TimeActive")]&&t.props.state.isTimerStarted){var a,s,i=t.state,n=i.previousTime,r=i.elapsedTaskTime,o=i.elapsedBreakTime,c=t.props,d=c.onTaskFinish,m=c.onCardStateChange,u=t.state["total".concat(e,"Time")],T=t.state["elapsed".concat(e,"Time")],k=t.state["remaining".concat(e,"Time")],h=r+o,g=Date.now(),p=M(T),b=M(u),v=M(k),f=M(h),_=T/u*100,w=k/u*100;if(T>=u)t.setState((a={},Object(l.a)(a,"is".concat(e,"TimeActive"),!1),Object(l.a)(a,"elapsed".concat(e,"Time"),u),Object(l.a)(a,"elapsed".concat(e,"TimeArray"),b),Object(l.a)(a,"remaining".concat(e,"TimeArray"),["00","00","00"]),Object(l.a)(a,"elapsed".concat(e,"Percent"),100),Object(l.a)(a,"remaining".concat(e,"Time"),0),Object(l.a)(a,"remaining".concat(e,"Percent"),0),Object(l.a)(a,"is".concat(e,"Finished"),!0),Object(l.a)(a,"isStopAlertVisible",!1),Object(l.a)(a,"isFinishVisible",!0),Object(l.a)(a,"overallTime",h),Object(l.a)(a,"overallTimeArray",f),a)),m(Object(l.a)({},"is".concat(e,"TimeActive"),!1)),d({elapsedTaskTime:r,elapsedBreakTime:o});else t.setState((s={previousTime:g},Object(l.a)(s,"elapsed".concat(e,"Time"),T+(g-n)),Object(l.a)(s,"elapsed".concat(e,"TimeArray"),p),Object(l.a)(s,"remaining".concat(e,"Time"),u-T),Object(l.a)(s,"remaining".concat(e,"TimeArray"),v),Object(l.a)(s,"elapsed".concat(e,"Percent"),_),Object(l.a)(s,"remaining".concat(e,"Percent"),w),s))}};var s=t.props.state,i=s.startTime,n=s.totalTaskTime,r=s.totalBreakTime,o=s.totalTaskTimeArray,c=s.totalBreakTimeArray;return t.state={isStopAlertVisible:!1,isTimerVisible:!1,isTaskTimeElapsedMode:!0,isBreakTimeElapsedMode:!0,isTaskFinished:!1,isBreakFinished:!1,totalTaskTime:n,totalBreakTime:r,totalBreaks:0,elapsedTaskTime:0,elapsedTaskPercent:0,elapsedTaskTimeArray:["00","00","00"],elapsedBreakTime:0,elapsedBreakPercent:0,elapsedBreakTimeArray:["00","00","00"],remainingTaskTime:0,remainingTaskPercent:100,remainingTaskTimeArray:o,remainingBreakTime:0,remainingBreakPercent:100,remainingBreakTimeArray:c,previousTime:i,overallTime:0,overallTimeArray:["00","00","00"]},t}return Object(k.a)(a,e),Object(m.a)(a,[{key:"componentDidMount",value:function(){var e=this,a=this.props.onCardStateChange;a({isTaskTimeActive:!0}),this.taskIntervalId=setInterval((function(){return e.handleTimeTick("Task")}),10),this.breakIntervalId=setInterval((function(){return e.handleTimeTick("Break")}),10),this.timeoutId=setTimeout((function(){e.setState({isTimerVisible:!0,previousTime:Date.now()}),a({isTimerStarted:!0})}),_),this.handleRotatingStatus()}},{key:"componentWillUnmount",value:function(){clearInterval(this.taskIntervalId),clearInterval(this.breakIntervalId),clearTimeout(this.timeoutId),this.props.onCardStateChange({isTaskTimeActive:!1,isBreakTimeActive:!1})}},{key:"render",value:function(){var e=this.props.state,a=e.taskName,t=e.isTaskTimeActive,s=e.isBreakTimeActive,n=this.state,r=n.isTimerVisible,o=n.isStopAlertVisible,l=n.isTaskTimeElapsedMode,c=n.isBreakTimeElapsedMode,d=n.isTaskFinished,m=n.isBreakFinished,u=n.elapsedTaskPercent,T=n.elapsedTaskTimeArray,k=n.elapsedBreakPercent,h=n.elapsedBreakTimeArray,p=n.remainingTaskPercent,b=n.remainingTaskTimeArray,v=n.remainingBreakPercent,f=n.remainingBreakTimeArray,_=n.totalBreaks,w=this.props,C=w.id,E=w.onTaskRemove,N=w.cardRotatingMode,S=w.onCardStateChange,B=g()("Timer",{"Timer--visible":r,"Timer--taskTime":t||d,"Timer--breakTime":s||m});return i.a.createElement("section",{className:B},i.a.createElement("h2",{className:"Timer__heading"},'"'.concat(a,'"')),i.a.createElement("div",{className:"Timer__container"},i.a.createElement(J,{modifier:"taskTime",isElapsedMode:l,elapsedTimeArray:T,remainingTimeArray:b,elapsedTaskPercent:u,remainingTaskPercent:p,isCountdownVisible:t||d,totalBreaks:_}),i.a.createElement(J,{modifier:"breakTime",isElapsedMode:c,elapsedTimeArray:h,remainingTimeArray:f,elapsedTaskPercent:k,remainingTaskPercent:v,isCountdownVisible:s||m,totalBreaks:_})),i.a.createElement("p",{className:"Timer__breaks"},function(e){return"".concat(e,"\n").concat(1===e?"break":"breaks"," used\n")}(_)),i.a.createElement($,{isTaskTimeActive:t,isBreakTimeActive:s,cardRotatingMode:N,onCardStateChange:S,onDisplayModeChange:this.handleTimeDisplayMode,onTimerStateChange:this.handleStateChange,onStopButtonClick:this.handleAlertVisibility}),i.a.createElement("div",{className:"Timer__progress"},i.a.createElement(H,{modifier:"taskTime",isVisible:t||d,isElapsedMode:l,elapsedPercent:u,remainingPercent:p}),i.a.createElement(H,{modifier:"breakTime",isVisible:s||m,isElapsedMode:c,elapsedPercent:k,remainingPercent:v})),i.a.createElement(W,{alertText:"Do you really want to stop this task?",isStopAlertVisible:o,onStopCancel:this.handleAlertVisibility,onStopConfirm:this.handleTimerStop}),d?i.a.createElement(q,{isTaskFinished:d,taskName:a,state:this.state,onTimerStateChange:this.handleStateChange,onTaskRemove:E,onTimerRestart:this.handleTimerStop,id:C}):i.a.createElement("div",null),m?i.a.createElement(q,{isTaskFinished:d,taskName:a,state:this.state,onTimerStateChange:this.handleStateChange,onTaskRemove:E,onTimerRestart:this.handleTimerStop,id:C}):i.a.createElement("div",null))}}]),a}(s.Component)),G=(t(39),function(e){function a(e){var t;Object(d.a)(this,a),(t=Object(u.a)(this,Object(T.a)(a).call(this,e))).componentDidMount=function(){t.setState({isTaskMounted:!0}),t.timeoutId=setTimeout((function(){return t.setState({isTaskRotatingIn:!1})}),_)},t.handleStateChange=function(e){return t.setState(e)},t.getHoveredCardSizes=function(e){var a=t.props,s=a.cardIndex,i=a.cardsSizes;return e>=0&&e!==s?i[e]:null},t.handleCardsSizes=function(){var e=t.props.onBoardStateChange,a=t.card.current.parentNode.children;e({cardsSizes:Object(o.a)(a).filter((function(e){return e.classList.contains("Card")})).map((function(e){var a=e.offsetHeight,t=e.offsetLeft,s=e.offsetTop;return{height:a,width:e.offsetWidth,left:t,top:s}}))})},t.handleCardDrag=function(e){t.state.isMaximized||t.handleMouseDown(e)},t.handleMouseDown=function(e){var a=e.clientX,s=e.clientY,i=t.props.onBoardStateChange;window.addEventListener("mousemove",t.handleMouseMove),window.addEventListener("mouseup",t.handleMouseUp),t.setState({originalX:a+window.scrollX,originalY:s+window.scrollY}),t.handleCardsSizes(),i({isPlaceholderVisible:!0})},t.handleMouseMove=function(e){var a=e.clientX,s=e.clientY,i=t.props,n=i.onBoardStateChange,r=i.cardIndex,l=i.cardsSizes,c=a+window.scrollX,d=s+window.scrollY,m=l[r],u=Object(o.a)(l).findIndex((function(e){var a=e.left,t=e.top,s=e.width,i=e.height;return c>=a&&c<=a+s&&(d>=t&&d<=t+i)})),T=t.getHoveredCardSizes(u);(t.setState((function(e){return{translateX:c-e.originalX,translateY:d-e.originalY,isDragging:!0}})),T)&&n({hoveredOffsetX:m.left-T.left,hoveredOffsetY:m.top-T.top});n({isDraggingMode:!0,draggedCardIndex:r,hoveredCardIndex:r!==u?u:-1})},t.handleMouseUp=function(){var e=t.props,a=e.onBoardStateChange,s=e.draggedCardIndex,i=e.hoveredCardIndex,n=e.cardsSizes[s],r=t.getHoveredCardSizes(i);if(window.removeEventListener("mousemove",t.handleMouseMove),window.removeEventListener("mouseup",t.handleMouseUp),i<0)t.setState({originalX:0,originalY:0,translateX:0,translateY:0,isDragging:!1});else{var o=t.props.onTaskOrderChange;if(r){var l=r.left-n.left,c=r.top-n.top,d=-1*(l-t.state.translateX),m=-1*(c-t.state.translateY);t.setState({originalX:0,originalY:0,translateX:d,translateY:m})}var u=setTimeout((function(){t.setState({translateX:0,translateY:0,isDragging:!1}),t.handleCardsSizes(),clearTimeout(u)}),30);o(s,i)}a({isDraggingMode:!1});var T=setTimeout((function(){a({draggedCardIndex:-1,hoveredCardIndex:-1}),clearTimeout(T)}),30)},t.handleKeyPress=function(e){var a=t.state,s=a.isTaskNameEditMode,i=a.isTaskTimeEditMode,n=a.isBreakTimeEditMode;"Enter"===e&&(s||i||n)&&t.acceptEditChange()},t.handleMaximizeCard=function(){var e=t.props.onBoardStateChange;t.state.isMaximized||(t.setState({isMaximized:!0}),e({isPlaceholderVisible:!1}))},t.handleTaskNameChange=function(e){t.setState({taskName:e,taskNameLength:e.length,isTaskNameValid:C(e)})},t.handleTimeChange=function(e,a,s,i){var n=P(e,a,s,i);if("task"===i){if("minutes"===s){var r=n.taskMinutes,o=n.totalTaskTime,l=n.totalTaskTimeArray,c=n.isTaskTimeValid;t.setState({taskMinutes:r,totalTaskTime:o,totalTaskTimeArray:l,isTaskTimeValid:c})}else if("seconds"===s){var d=n.taskSeconds,m=n.totalTaskTime,u=n.totalTaskTimeArray,T=n.isTaskTimeValid;t.setState({taskSeconds:d,totalTaskTime:m,totalTaskTimeArray:u,isTaskTimeValid:T})}}else if("break"===i)if("minutes"===s){var k=n.breakMinutes,h=n.totalBreakTime,g=n.totalBreakTimeArray,p=n.isBreakTimeValid;t.setState({breakMinutes:k,totalBreakTime:h,totalBreakTimeArray:g,isBreakTimeValid:p})}else if("seconds"===s){var b=n.breakSeconds,v=n.totalBreakTime,f=n.totalBreakTimeArray,_=n.isBreakTimeValid;t.setState({breakSeconds:b,totalBreakTime:v,totalBreakTimeArray:f,isBreakTimeValid:_})}},t.handleEditMode=function(e){t.state.isMaximized&&t.setState(Object(l.a)({},"is".concat(e,"EditMode"),!0))},t.acceptEditChange=function(){var e=t.state,a=e.taskName,s=e.totalTaskTime,i=e.totalBreakTime,n=e.totalTaskTimeArray,r=e.totalBreakTimeArray,o=e.isTaskNameValid,l=e.isTaskTimeValid,d=e.isBreakTimeValid,m=t.props.task.id,u=t.props.onTaskEdit,T=Object(c.a)(n,2),k=T[0],h=T[1],g=Object(c.a)(r,2),p=g[0],b=g[1];o&&l&&d&&(t.setState({isTaskNameEditMode:!1,isTaskTimeEditMode:!1,isBreakTimeEditMode:!1,taskMinutes:k,taskSeconds:h,breakMinutes:p,breakSeconds:b}),u({taskName:a,taskMinutes:k,taskSeconds:h,breakMinutes:p,breakSeconds:b,totalTaskTime:s,totalBreakTime:i,totalTaskTimeArray:n,totalBreakTimeArray:r,id:m},"edit"))},t.handleAlertVisibility=function(){t.setState((function(e){return{isStopAlertVisible:!e.isStopAlertVisible}}))},t.handleTaskRemove=function(){var e=t.props.task.id;(0,t.props.onTaskRemove)(e)},t.handleStartButton=function(){t.setState({isTaskRotatingOut:!0,isTimerMounted:!0})},t.card=i.a.createRef(),t.transitionTime=1e3;var s=t.props.task,n=s.taskName,r=s.totalTaskTime,m=s.totalBreakTime,k=s.totalTaskTimeArray,h=s.totalBreakTimeArray,g=Object(c.a)(k,2),p=g[0],b=g[1],v=Object(c.a)(h,2),f=v[0],w=v[1];return t.state={isDragging:!1,isMaximized:!0,isTaskRotatingIn:!0,isTaskRotatingOut:!1,isTaskMounted:!1,isTimerMounted:!1,isTimerStarted:!1,isTaskTimeActive:!1,isBreakTimeActive:!1,isStopAlertVisible:!1,originalX:0,originalY:0,translateX:0,translateY:0,taskName:n,taskNameLength:n.length,taskMinutes:p,taskSeconds:b,breakMinutes:f,breakSeconds:w,totalTaskTime:r,totalBreakTime:m,totalTaskTimeArray:k,totalBreakTimeArray:h,isTaskNameEditMode:!1,isTaskTimeEditMode:!1,isBreakTimeEditMode:!1,isTaskNameValid:!0,isTaskTimeValid:!0,isBreakTimeValid:!0},t}return Object(k.a)(a,e),Object(m.a)(a,[{key:"componentWillUnmount",value:function(){window.removeEventListener("mousemove",this.handleMouseMove),window.removeEventListener("mouseup",this.handleMouseUp),clearTimeout(this.timeoutId)}},{key:"render",value:function(){var e=this,a=this.props,t=a.task.id,s=a.cardIndex,n=a.isDraggingMode,r=a.draggedCardIndex,o=a.hoveredCardIndex,l=a.hoveredOffsetX,c=a.hoveredOffsetY,d=a.onBoardStateChange,m=a.onTaskFinish,u=this.state,T=u.isDragging,k=u.translateX,h=u.translateY,p=u.isMaximized,b=u.isTaskMounted,f=u.isTimerStarted,_=u.isTaskTimeActive,C=u.isTaskRotatingIn,E=u.isTaskRotatingOut,N=u.isStopAlertVisible,S=u.taskName,B=u.taskNameLength,y=u.taskMinutes,M=u.taskSeconds,P=u.breakMinutes,A=u.breakSeconds,V=u.isTaskNameEditMode,O=u.isTaskTimeEditMode,I=u.isBreakTimeEditMode,x=u.isTaskNameValid,j=u.isTaskTimeValid,U=u.isBreakTimeValid,D=V||O||I,L=!x||!j||!U,R=C||E,z=O||I||R,K=V||I||R,J=V||O||R,H=s===o&&n?{transform:"translate(".concat(l,"px, ").concat(c,"px)")}:{transform:"translate(".concat(k,"px, ").concat(h,"px)")},$=g()("Card",{"Card--dragged":T,"Card--hovered":s===o&&n,"Card--noTransition":T||s===r&&-1!==o}),q=g()("Task",{"Task--visible":b,"Task--maximized":p,"Task--editMode":D,"Task--taskActive":_&&f,"Task--rotateIn":C&&b,"Task--rotateOut":E&&b}),G=g()("Task__startButton",{"Task__startButton--maximized":p,"Task__startButton--disabled":D||R});return i.a.createElement("div",{className:$,style:H,onMouseDown:this.handleCardDrag,ref:this.card},i.a.createElement("div",{className:q,style:w,onClick:this.handleMaximizeCard},i.a.createElement(F,{output:S,isValid:x,isMaximized:p,taskNameLength:B,isDisabled:z,isEditMode:V,onEditModeChange:function(){return e.handleEditMode("TaskName")},onTaskNameChange:this.handleTaskNameChange}),i.a.createElement(Y,{id:t,labelName:"Task Time",modifier:"taskTime",isMaximized:p,minutes:y,seconds:M,isValid:j,isDisabled:K,onEditModeChange:function(){return e.handleEditMode("TaskTime")},isEditMode:O,isCardEditMode:D,onKeyPress:this.handleKeyPress,onMinutesChange:function(a){return e.handleTimeChange(a,M,"minutes","task")},onSecondsChange:function(a){return e.handleTimeChange(y,a,"seconds","task")}}),i.a.createElement(Y,{id:t,labelName:"Break Time",modifier:"breakTime",isMaximized:p,minutes:P,seconds:A,isValid:U,isDisabled:J,onEditModeChange:function(){return e.handleEditMode("BreakTime")},isEditMode:I,isCardEditMode:D,onKeyPress:this.handleKeyPress,onMinutesChange:function(a){return e.handleTimeChange(a,A,"minutes","break")},onSecondsChange:function(a){return e.handleTimeChange(P,a,"seconds","break")}}),i.a.createElement(X,{isMaximized:p,editModeActive:D,inputInvalid:L,cardRotatingMode:R,onAcceptButtonClick:this.acceptEditChange,onRemoveButtonClick:this.handleAlertVisibility,onTaskStateChange:this.handleStateChange,onBoardStateChange:d,onDrag:this.handleMouseDown}),i.a.createElement("button",{className:G,disabled:D||R,onClick:this.handleStartButton},i.a.createElement("svg",{className:"Task__svg",viewBox:"0 0 512 512"},i.a.createElement("use",{href:"".concat(v.a,"#play")}))),this.state.isTimerMounted?i.a.createElement(Q,{state:this.state,id:t,onTaskRemove:this.handleTaskRemove,cardRotatingMode:R,onCardStateChange:this.handleStateChange,onTaskFinish:m}):i.a.createElement("div",{className:"empty"}),i.a.createElement(W,{alertText:"Do you really want to remove this task?",isStopAlertVisible:N,onStopCancel:this.handleAlertVisibility,onStopConfirm:function(a){return e.handleTaskRemove(a)}})))}}]),a}(s.Component)),Z=(t(40),function(e){var a=e.placeholderIndex,t=e.cardsSizes,s=e.isPlaceholderVisible,n=t[a],r={};n&&(r={top:n.top,left:n.left,width:n.width,height:n.height});var o=g()("CardPlaceholder",{"CardPlaceholder--visible":s});return i.a.createElement("div",{className:o,style:r})}),ee=(t(41),function(e){function a(e){var t;return Object(d.a)(this,a),(t=Object(u.a)(this,Object(T.a)(a).call(this,e))).componentDidMount=function(){window.addEventListener("resize",t.handleWindowResize)},t.componentWillUnmount=function(){window.removeEventListener("resize",t.handleWindowResize)},t.handleWindowResize=function(){t.setState({isPlaceholderVisible:!1})},t.handleStateChange=function(e){return t.setState(e)},t.handleSidebar=function(e){t.setState((function(e){return{isSidebarVisible:!e.isSidebarVisible}}))},t.handleSidebarQuit=function(e){var a=e.target;/Board--sidebarMode/.test(a.className)&&t.handleSidebar()},t.handleTaskRemove=function(e){(0,t.props.onTaskRemove)(e),t.setState({isPlaceholderVisible:!1})},t.handleNewTaskButton=function(){t.setState({isCreatorVisible:!0,isPlaceholderVisible:!1})},t.state={isCreatorVisible:!1,isPlaceholderVisible:!1,isSidebarVisible:!1,isDraggingMode:!1,cardsSizes:[],draggedCardIndex:-1,hoveredCardIndex:-1,hoveredOffsetX:0,hoveredOffsetY:0},t}return Object(k.a)(a,e),Object(m.a)(a,[{key:"render",value:function(){var e=this,a=this.props,t=a.users,s=a.loggedUserId,n=a.onUserUpdate,r=a.onTaskOrderChange,o=a.onUserLogout,l=a.onUserRemove,c=a.onTaskFinish,d=a.onTaskEdit,m=this.state,u=m.isCreatorVisible,T=m.isSidebarVisible,k=m.isPlaceholderVisible,h=m.isDraggingMode,p=m.hoveredCardIndex,b=m.draggedCardIndex,f=m.hoveredOffsetX,_=m.hoveredOffsetY,w=m.cardsSizes,C=t[s].tasks,E=g()("Board",{"Board--sidebarMode":T}),N=g()("Board__newTaskButton",{"Board__newTaskButton--visible":!u}),S=g()("Board__creator",{"Board__creator--maximized":u}),B=g()("Board__logo",{"Board__logo--visible":T});return i.a.createElement("section",{className:E},i.a.createElement("header",{className:"Board__header"},i.a.createElement("h2",{className:B},"task",i.a.createElement("span",{className:"Board__logo--color"},"Timer")),i.a.createElement("button",{className:"Board__burger",onClick:this.handleSidebar},i.a.createElement("svg",{className:"Board__burgerSvg",viewBox:"0 0 100 100"},i.a.createElement("use",{href:"".concat(v.a,"#burger")})))),i.a.createElement(U,{block:"userEdit",isSidebarVisible:T,users:t,loggedUserId:s,onUserUpdate:n,onUserLogout:o,onUserRemove:l}),C.map((function(a,t){return i.a.createElement(G,{key:"card-".concat(a.id),task:a,cardIndex:t,onTaskOrderChange:r,onBoardStateChange:e.handleStateChange,onTaskRemove:e.handleTaskRemove,isDraggingMode:h,hoveredCardIndex:p,draggedCardIndex:b,hoveredOffsetX:f,hoveredOffsetY:_,cardsSizes:w,onTaskFinish:c,onTaskEdit:d})})),C.map((function(e,a){return i.a.createElement(Z,{key:"placeholder-".concat(a),placeholderIndex:a,cardsSizes:w,isPlaceholderVisible:k})})),i.a.createElement("section",{className:S},i.a.createElement("button",{className:N,onClick:this.handleNewTaskButton},"Add New Task"),u?i.a.createElement(L,{isVisible:u,onBoardStateChange:this.handleStateChange,onTaskEdit:d}):i.a.createElement("div",{className:"empty"})))}}]),a}(s.Component)),ae=t(11),te=t.n(ae),se=(t(42),function(){return i.a.createElement("div",{className:"Logo"},i.a.createElement("svg",{className:"Logo__base",viewBox:"0 0 512 612"},i.a.createElement("use",{href:"".concat(te.a,"#logoBase")})),i.a.createElement("svg",{className:"Logo__letter",viewBox:"0 0 512 612"},i.a.createElement("use",{href:"".concat(te.a,"#logoLetter")})),i.a.createElement("svg",{className:"Logo__shadow Logo__shadow--base",viewBox:"0 0 512 612"},i.a.createElement("use",{href:"".concat(te.a,"#logoBaseShadow")})),i.a.createElement("svg",{className:"Logo__shadow Logo__shadow--letter",viewBox:"0 0 512 612"},i.a.createElement("use",{href:"".concat(te.a,"#logoLetterShadow")})))}),ie=[{login:"Jakub",password:"password",date:[15,0,2020,16,6],rememberMe:!1,stats:{finishedTasks:411,avgTaskTime:0,avgBreakTime:0,avgTasksPerDay:0,dateCreated:null,totalTaskTime:943425654,totalBreakTime:126456565},tasks:[{taskName:"Add new feature to TaskTimer App",taskMinutes:25,taskSeconds:0,breakMinutes:8,breakSeconds:0,totalTaskTime:15e5,totalBreakTime:48e4,totalTaskTimeArray:["25","00","00"],totalBreakTimeArray:["08","00","00"],id:1111111111},{taskName:"Stretch your neck",taskMinutes:0,taskSeconds:15,breakMinutes:0,breakSeconds:5,totalTaskTime:15e3,totalBreakTime:5e3,totalTaskTimeArray:["00","15","00"],totalBreakTimeArray:["00","05","00"],id:1111111112},{taskName:"Do quick physical exercises",taskMinutes:8,taskSeconds:30,breakMinutes:1,breakSeconds:30,totalTaskTime:51e4,totalBreakTime:9e4,totalTaskTimeArray:["08","30","00"],totalBreakTimeArray:["01","30","00"],id:1111111113},{taskName:"Update linkedIn profile",taskMinutes:30,taskSeconds:0,breakMinutes:10,breakSeconds:0,totalTaskTime:18e5,totalBreakTime:6e5,totalTaskTimeArray:["30","00","00"],totalBreakTimeArray:["10","00","00"],id:1111111114},{taskName:"Take a breath",taskMinutes:0,taskSeconds:5,breakMinutes:0,breakSeconds:0,totalTaskTime:5e3,totalBreakTime:0,totalTaskTimeArray:["00","05","00"],totalBreakTimeArray:["00","00","00"],id:1111111115}]},{login:"Anna P",password:"password",date:[12,10,2019,18,12],rememberMe:!1,stats:{finishedTasks:1026,avgTaskTime:0,avgBreakTime:0,avgTasksPerDay:0,dateCreated:null,totalTaskTime:2487251436,totalBreakTime:802548951},tasks:[{taskName:"Make a training job interview with Jakub",taskMinutes:"27",taskSeconds:"00",breakMinutes:"8",breakSeconds:"",totalTaskTime:162e4,totalBreakTime:48e4,totalTaskTimeArray:["27","00","00"],totalBreakTimeArray:["08","00","00"],id:1111111116},{taskName:"Feed the cat",taskMinutes:"04",taskSeconds:"00",breakMinutes:"00",breakSeconds:"00",totalTaskTime:24e4,totalBreakTime:0,totalTaskTimeArray:["04","00","00"],totalBreakTimeArray:["00","00","00"],id:1111111117},{taskName:"Arrange some meetings with clients for tomorrow",taskMinutes:"25",taskSeconds:"00",breakMinutes:"08",breakSeconds:"00",totalTaskTime:15e5,totalBreakTime:48e4,totalTaskTimeArray:["25","00","00"],totalBreakTimeArray:["08","00","00"],id:1111111118},{taskName:"Buy new shoes",taskMinutes:"15",taskSeconds:"",breakMinutes:"2",breakSeconds:"",totalTaskTime:9e5,totalBreakTime:12e4,totalTaskTimeArray:["15","00","00"],totalBreakTimeArray:["02","00","00"],id:1111111119},{taskName:"Do research about climate change",taskMinutes:"30",taskSeconds:"",breakMinutes:"12",breakSeconds:"",totalTaskTime:18e5,totalBreakTime:72e4,totalTaskTimeArray:["30","00","00"],totalBreakTimeArray:["12","00","00"],id:1111111120}]},{login:"Agnieszka",password:"password",date:[3,2,2020,14,38],rememberMe:!1,stats:{finishedTasks:97,avgTaskTime:0,avgBreakTime:0,avgTasksPerDay:0,dateCreated:null,totalTaskTime:214548546,totalBreakTime:75455844},tasks:[{taskName:"Study for the exam",taskMinutes:"25",taskSeconds:"",breakMinutes:"8",breakSeconds:"",totalTaskTime:15e5,totalBreakTime:48e4,totalTaskTimeArray:["25","00","00"],totalBreakTimeArray:["08","00","00"],id:1111111121},{taskName:"Bake some cookies",taskMinutes:"35",taskSeconds:"",breakMinutes:"10",breakSeconds:"",totalTaskTime:21e5,totalBreakTime:6e5,totalTaskTimeArray:["35","00","00"],totalBreakTimeArray:["10","00","00"],id:1111111122},{taskName:"Read some news",taskMinutes:"15",taskSeconds:"",breakMinutes:"2",breakSeconds:"",totalTaskTime:9e5,totalBreakTime:12e4,totalTaskTimeArray:["15","00","00"],totalBreakTimeArray:["02","00","00"],id:1111111123}]},{login:"Aleksander",password:"password",date:[16,1,2020,14,58],rememberMe:!0,stats:{finishedTasks:202,avgTaskTime:0,avgBreakTime:0,avgTasksPerDay:0,dateCreated:null,totalTaskTime:455102045,totalBreakTime:155544784},tasks:[{taskName:"Prepare 3d printer for a new project",taskMinutes:"25",taskSeconds:"00",breakMinutes:"09",breakSeconds:"00",totalTaskTime:15e5,totalBreakTime:54e4,totalTaskTimeArray:["25","00","00"],totalBreakTimeArray:["09","00","00"],id:1111111124},{taskName:"Meet the client",taskMinutes:"40",taskSeconds:"00",breakMinutes:"00",breakSeconds:"00",totalTaskTime:24e5,totalBreakTime:0,totalTaskTimeArray:["40","00","00"],totalBreakTimeArray:["00","00"],id:1111111125},{taskName:"Fix the kitchen's sink",taskMinutes:"30",taskSeconds:"",breakMinutes:"5",breakSeconds:"",totalTaskTime:18e5,totalBreakTime:3e5,totalTaskTimeArray:["30","00","00"],totalBreakTimeArray:["05","00","00"],id:1111111126},{taskName:"Buy a new keyboard",taskMinutes:"20",taskSeconds:"",breakMinutes:"4",breakSeconds:"",totalTaskTime:12e5,totalBreakTime:24e4,totalTaskTimeArray:["20","00","00"],totalBreakTimeArray:["04","00","00"],id:1111111127}]}];t(43);function ne(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);a&&(s=s.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),t.push.apply(t,s)}return t}function re(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{};a%2?ne(t,!0).forEach((function(a){Object(l.a)(e,a,t[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ne(t).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))}))}return e}var oe=function(e){function a(e){var t;return Object(d.a)(this,a),(t=Object(u.a)(this,Object(T.a)(a).call(this,e))).componentDidMount=function(){if(localStorage.getItem("taskTimerUsers")){var e=JSON.parse(localStorage.getItem("taskTimerUsers"));t.setState({isAppLoaded:!0,users:e})}else{var a={},s=!0,i=!1,n=void 0;try{for(var r,o=ie[Symbol.iterator]();!(s=(r=o.next()).done);s=!0){var d=r.value,m=d.stats,u=m.finishedTasks,T=m.totalTaskTime,k=m.totalBreakTime,h=Object(c.a)(d.date,5),g=h[0],p=h[1],b=h[2],v=h[3],f=h[4],_=new Date(b,p,g,v,f),w=_.getTime();g=y(g),p=y(p+1),v=y(v),f=y(f);var C=O(_);console.log("totalDays",C);var E=Math.round(u/C),N=M(T/u),S=M(k/u),B=Object(c.a)(N,2),P=B[0],A=B[1],V=Object(c.a)(S,2),I=V[0],x=V[1],j="".concat(P," min ").concat(A," sec"),U="".concat(I," min ").concat(x," sec");d.stats.avgTasksPerDay=E,d.stats.avgBreakTime=U,d.stats.avgTaskTime=j,d.stats.dateCreated="".concat(g,"-").concat(p,"-").concat(b," ").concat(v,":").concat(f),d.createdAt=_,a=re({},a,Object(l.a)({},w,d))}}catch(D){i=!0,n=D}finally{try{s||null==o.return||o.return()}finally{if(i)throw n}}t.setState({isAppLoaded:!0,users:a})}t.exportUsers()},t.componentDidUpdate=function(){console.log("APP UPDATED"),t.exportUsers()},t.componentWillUnmount=function(){},t.handleStateChange=function(e){return t.setState(e)},t.exportUsers=function(){var e=t.state.users;localStorage.setItem("taskTimerUsers",JSON.stringify(e))},t.handleUserLogin=function(e,a){var s=t.state.users,i=Object.entries(s).find((function(a){var t=Object(c.a)(a,2);t[0];return t[1]===e})),n=Object(c.a)(i,1)[0];t.setState((function(s){return{isUserPanelVisible:!1,isBoardVisible:!0,users:"loginForm"===a?t.state.users:[].concat(Object(o.a)(s.users),[e]),loggedUserId:n}}))},t.handleUserLogout=function(){var e=t.state;e.users[e.loggedUserId].rememberMe=!1,t.setState((function(e){return{users:re({},e.users),loggedUserId:"",isUserPanelVisible:!0,isBoardVisible:!1}}))},t.handleUserRemove=function(){var e=t.state;delete e.users[e.loggedUserId],t.setState((function(e){return{users:re({},e.users),isBoardVisible:!1,isUserPanelVisible:!0}}))},t.handleTaskRemove=function(e){var a=t.state,s=a.users[a.loggedUserId];s.tasks=s.tasks.filter((function(a){return a.id!==e})),t.setState((function(e){return{users:re({},e.users)}}))},t.handleTaskOrder=function(e,a){var s=t.state,i=s.users[s.loggedUserId],n=i.tasks,r=Object(o.a)(n);r.splice(e,1,n[a]),r.splice(a,1,n[e]),i.tasks=r,t.setState((function(e){return{users:re({},e.users)}}))},t.handleUserUpdate=function(e,a){var s=t.state;s.users[s.loggedUserId][a]=e,t.setState((function(e){return{users:re({},e.users)}}))},t.handleTaskFinish=function(e){var a=t.state,s=a.users,i=a.loggedUserId,n=e.elapsedTaskTime,r=e.elapsedBreakTime,o=s[i],l=o.stats,d=l.finishedTasks,m=l.totalTaskTime,u=l.totalBreakTime,T=O(o.createdAt),k=d+1,h=m+n,g=u+r,p=Math.round(k/T),b=M(h/k),v=M(g/k),f=Object(c.a)(b,2),_=f[0],w=f[1],C=Object(c.a)(v,2),E=C[0],N=C[1],S="".concat(_," min ").concat(w," sec"),B="".concat(E," min ").concat(N," sec");o.stats.finishedTasks=k,o.stats.totalTaskTime=h,o.stats.totalBreakTime=g,o.stats.avgTaskTime=S,o.stats.avgBreakTime=B,o.stats.avgTasksPerDay=p,t.setState((function(e){return{users:re({},e.users)}}))},t.handleTaskEdit=function(e,a){var s=t.state,i=s.users[s.loggedUserId];if("edit"===a){var n=e.id,r=i.tasks.map((function(e){return e.id})).indexOf(n);i.tasks=[].concat(Object(o.a)(i.tasks.filter((function(e,a){return e.id!==n&&a<r}))),[e],Object(o.a)(i.tasks.filter((function(e,a){return e.id!==n&&a>r}))))}else"add"===a&&(i.tasks=[].concat(Object(o.a)(i.tasks),[e]));t.setState((function(e){return{users:re({},e.users)}}))},t.state={isAppLoaded:!1,isIntroVisible:!0,isUserPanelVisible:!0,isBoardVisible:!1,users:null,loggedUserId:"",createdAt:null},t}return Object(k.a)(a,e),Object(m.a)(a,[{key:"render",value:function(){var e=this.state,a=e.isAppLoaded,t=e.isIntroVisible,s=e.isUserPanelVisible,n=e.isBoardVisible,r=e.users,o=e.loggedUserId;return i.a.createElement(i.a.StrictMode,null,i.a.createElement("div",{className:"App"},i.a.createElement("h1",{className:"App__heading visuallyhidden"},"Task Timer App"),t?i.a.createElement(p,{isIntroVisible:t,onAppStateChange:this.handleStateChange}):i.a.createElement("div",{className:"empty"}),s&&a?i.a.createElement(x,{users:r,onUserLogin:this.handleUserLogin}):i.a.createElement("div",{className:"empty"}),n?i.a.createElement(ee,{users:r,loggedUserId:o,onUserUpdate:this.handleUserUpdate,onUserLogout:this.handleUserLogout,onUserRemove:this.handleUserRemove,onTaskRemove:this.handleTaskRemove,onTaskOrderChange:this.handleTaskOrder,onTaskFinish:this.handleTaskFinish,onTaskEdit:this.handleTaskEdit}):i.a.createElement("div",{className:"empty"}),i.a.createElement(se,null)))}}]),a}(s.Component),le=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function ce(e,a){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var t=e.installing;null!=t&&(t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),a&&a.onUpdate&&a.onUpdate(e)):(console.log("Content is cached for offline use."),a&&a.onSuccess&&a.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}r.a.render(i.a.createElement(oe,null),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/task-timer",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var a="".concat("/task-timer","/service-worker.js");le?(!function(e,a){fetch(e).then((function(t){var s=t.headers.get("content-type");404===t.status||null!=s&&-1===s.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):ce(e,a)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(a,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):ce(a,e)}))}}()}],[[14,1,2]]]);
//# sourceMappingURL=main.f07bff9e.chunk.js.map