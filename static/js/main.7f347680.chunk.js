(this["webpackJsonptask-timer"]=this["webpackJsonptask-timer"]||[]).push([[0],[,,,function(e,a,t){e.exports=t.p+"static/media/icons.54b3c083.svg"},,,,,,,,function(e,a,t){e.exports=t.p+"static/media/logo.84c2435d.svg"},,,function(e,a,t){e.exports=t(45)},,,,,function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){"use strict";t.r(a);var s=t(0),i=t.n(s),n=t(13),r=t.n(n),o=(t(19),t(10)),l=t(4),c=t(5),d=t(6),m=t(8),u=t(7),h=t(9),T=t(1),g=t.n(T),k=(t(20),function(e){function a(e){var t;return Object(c.a)(this,a),(t=Object(m.a)(this,Object(u.a)(a).call(this,e))).handleShadowPostion=function(){if(t.props.isIntroVisible){var e=t.state,a=e.totalTime,s=e.timeInterval,i=e.elapsedTime,n=e.maxDistance,r=e.elapsedDistance,o=e.elapsedAngle,l=a/s,c=n/l,d=360/l*(3/Math.pow(3,i/a*2)),m=o*(Math.PI/180),u=Math.sin(m)*r,h=Math.cos(m)*r;if(t.setState((function(e){return{elapsedTime:i+s,elapsedDistance:e.elapsedDistance+c,elapsedAngle:e.elapsedAngle-d,xTranslation:u,yTranslation:h}})),t.state.elapsedTime>=t.state.totalTime){var T=t.props.onAppStateChange;t.setState({isIntroFadingOut:!0}),t.timeoutId=setTimeout((function(){T({isIntroVisible:!1})}),1e3)}}},t.state={totalTime:4e3,timeInterval:10,maxDistance:4,elapsedDistance:0,elapsedAngle:120,elapsedTime:0,xTranslation:0,yTranslation:0,isIntroFadingOut:!1},t}return Object(h.a)(a,e),Object(d.a)(a,[{key:"componentDidMount",value:function(){var e=this.state.timeInterval;this.intervalId=setInterval(this.handleShadowPostion,e)}},{key:"componentWillUnmount",value:function(){clearInterval(this.intervalId),clearTimeout(this.timeoutId)}},{key:"render",value:function(){var e=this.state,a=e.isIntroFadingOut,t=e.xTranslation,s=e.yTranslation,n=g()("Intro",{"Intro--visible":!a}),r={transform:"\n        translate(".concat(t,"%, ").concat(s,"%)\n        rotate(0.01deg)\n      ")};return i.a.createElement("div",{className:n},i.a.createElement("svg",{className:"logo",viewBox:"0 0 600 600"},i.a.createElement("mask",{id:"mask",className:"logo__mask"},i.a.createElement("rect",{width:"600",height:"600",fill:"#fff"}),i.a.createElement("rect",{x:"200",y:"50",width:"200",height:"35",rx:"17.5",ry:"17.5",fill:"#000"}),i.a.createElement("circle",{cx:"300",cy:"300",r:"180",fill:"#000"}),i.a.createElement("circle",{cx:"300",cy:"300",r:"145",fill:"#fff"}),i.a.createElement("rect",{x:"282.5",y:"282.5",width:"35",height:"125",rx:"17.5",ry:"17.5",fill:"#000",className:"logo__clockHand"})),i.a.createElement("rect",{width:"600",height:"600",className:"logo__background"}),i.a.createElement("rect",{x:"199",y:"49",width:"202",height:"37",className:"logo__letter logo__letter--top"}),i.a.createElement("circle",{cx:"300",cy:"300",r:"140",className:"logo__letter logo__letter--circle"}),i.a.createElement("rect",{width:"600",height:"600",className:"logo__shadow",mask:"url(#mask)",style:r}),i.a.createElement("rect",{width:"600",height:"600",className:"logo__foreground",mask:"url(#mask)"})))}}]),a}(s.Component)),p=t(2),b=t(3),v=t.n(b),f=(t(21),function(e){var a=e.inputId,t=e.inputName,s=e.parentName,n=e.value,r=e.label,o=e.isInputValid,l=e.isAlertVisible,c=e.alertText,d=e.isDisabled,m=e.isPreviewMode,u=e.onPreviewModeChange,h=e.onInputBlur,T=e.onInputChange,k="\n    UserInput UserInput--".concat(s," UserInput--").concat(t,"\n  "),p=g()("UserInput__label","UserInput__label--".concat(s),{"UserInput__label--disabled":d}),b=g()("UserInput__input","UserInput__input--".concat(s),{"UserInput__input--disabled":d}),f="login"===t?"text":m?"text":"password",_=g()("UserInput__alertBox","UserInput__alertBox--".concat(s),{"UserInput__alertBox--visible":l}),C=g()("inputPassed","inputPassed--".concat(s),{"inputPassed--visible":o}),w=g()("previewPassword","previewPassword--".concat(s),{"previewPassword--active":m,"previewPassword--disabled":d});return i.a.createElement("div",{className:k},i.a.createElement("label",{htmlFor:a,className:p},r),i.a.createElement("input",{id:a,name:a,value:n,type:f,className:b,spellCheck:"false",maxLength:"20",disabled:d,onBlur:function(e){return function(e){o||h(e,t)}(e.target.value)},onChange:function(e){return T(e.target.value)}}),i.a.createElement("div",{className:_},i.a.createElement("p",{className:"UserInput__alert"},c)),i.a.createElement("div",{className:"UserInput__icons"},"login"===t?i.a.createElement("div",{className:"empty"}):i.a.createElement("button",{type:"button",className:w,onClick:function(){return u(t)}},i.a.createElement("svg",{className:"previewPassword__svg",viewBox:"0 0 100 100"},i.a.createElement("use",{href:"".concat(v.a,"#preview")}))),"loginForm"===s&&"password"===t?i.a.createElement("div",{className:"empty"}):i.a.createElement("div",{className:C},i.a.createElement("svg",{className:"inputPassed__svg",viewBox:"0 0 100 100"},i.a.createElement("use",{href:"".concat(v.a,"#passed")})))))}),_=200,C={animationDuration:"".concat(_,"ms")},w=function(e){return e.length>0},E=function(e,a){return/^\d*$/.test(e)&&a>0},N=function(e){return/^\d*$/.test(e)},S=function(e){return e.charAt(0).toUpperCase()+e.substring(1)},B=function(e,a){return 6e4*(e=e?parseInt(e):0)+1e3*(a=a?parseInt(a):0)},V=function(e){return e<10?"0".concat(e):"".concat(e)},P=function(e){return[V(Math.floor(e/6e4)),V(Math.floor(e/1e3%60)),V(Math.floor(e/10%100))]},y=function(e,a,t,s){if("task"===s){var i=B(e,a);if("minutes"===t)return{taskMinutes:e,totalTaskTime:i,totalTaskTimeArray:P(i),isTaskTimeValid:E(e,i)};if("seconds"===t)return{taskSeconds:a,totalTaskTime:i,totalTaskTimeArray:P(i),isTaskTimeValid:E(a,i)}}else if("break"===s){var n=B(e,a);if("minutes"===t)return{breakMinutes:e,totalBreakTime:n,totalBreakTimeArray:P(n),isBreakTimeValid:N(e)};if("seconds"===t)return{breakSeconds:a,totalBreakTime:n,totalBreakTimeArray:P(n),isBreakTimeValid:N(a)}}},M=function(e,a){var t=Object(o.a)(e,2),s=t[0],i=t[1];return s=parseInt(s),i=parseInt(i),"\n    ".concat(s>1?" ".concat(s," minutes"):1===s?" ".concat(s," minute"):"","\n    ").concat(s>0&&(a?0!==a:0!==i)?"and":"","\n    ").concat(i>1?" ".concat(i," seconds"):1===i?" ".concat(i," second"):a&&0!==a?" a split second":"","\n  ")},A=function(e){return{width:"".concat(e/80*100,"%")}},O=function(e){for(var a=function(e){return new Date(e).toISOString().slice(0,10)},t=new Date,s=a(t),i=a(e),n=1,r=200;i!==s&&r>0;)t.setDate(t.getDate()-1),s=a(new Date(t)),n++,r--;return n},x=(t(22),function(e){function a(e){var t;return Object(c.a)(this,a),(t=Object(m.a)(this,Object(u.a)(a).call(this,e))).componentDidMount=function(){var e=t.props,a=e.block,s=e.users;if("loginForm"===a){var i=Object(l.a)(s).find((function(e){return e.rememberMe}));if(i){var n=i.login,r=i.password;t.setState({login:n,isLoginValid:!0,password:r,isPasswordValid:!0,rememberMe:!0})}}},t.handleCardToggle=function(){(0,t.props.onCardToggle)(),t.handleFormReset()},t.handleAlert=function(e,a){var s,i=S(a),n=t.getInputAlert(e,a);t.setState((s={},Object(p.a)(s,"is".concat(i,"AlertVisible"),!0),Object(p.a)(s,"".concat(a,"AlertText"),n),s))},t.getInputAlert=function(e,a){var s=t.state.password,i=""===e,n=/\s/g.test(e),r=e.length<6;switch(a){case"login":var o=t.props,c=o.block,d=o.users,m=o.loggedUserLogin,u=Object(l.a)(d).map((function(e){return e.login})),h=Object(l.a)(u).find((function(a){return a===e&&a!==m}));return i?"Please enter your login":n?"Login cannot contain any spaces":"loginForm"===c&&!h?"There is no user with this login":!!(("signupForm"===c||"userEdit"===c)&&h)&&"This login already exist. Try another one";case"password":return i?"Please enter your password":n?"Password cannot contain any spaces":!!r&&"Password should have at least 6 characters";case"confirm":return i?"Please confirm your password":!(s===e)&&"Passwords do not match!";default:return!1}},t.handleLoginValidation=function(e){var a=!!t.getInputAlert(e,"login");t.setState({login:e,isLoginValid:!a,isLoginAlertVisible:!1})},t.handlePasswordValidation=function(e){var a=!!t.getInputAlert(e,"password");t.setState({password:e,isPasswordValid:!a,isPasswordAlertVisible:!1,isPasswordPreviewed:!1,confirm:"",isConfirmValid:!1,isConfirmAlertVisible:!1,isConfirmPreviewMode:!1,isConfirmDisabled:a})},t.handleConfirmValidation=function(e){var a=!!t.getInputAlert(e,"confirm");t.setState({confirm:e,isConfirmValid:!a,isConfirmAlertVisible:!1,isConfirmPreviewed:!1})},t.handlePasswordPreview=function(e){var a=S(e);t.setState((function(e){return Object(p.a)({},"is".concat(a,"PreviewMode"),!e["is".concat(a,"PreviewMode")])}))},t.handleRememberMe=function(){t.setState((function(e){return{rememberMe:!e.rememberMe}}))},t.handleFormReset=function(){t.setState({rememberMe:!1,login:"",isLoginValid:!1,isLoginAlertVisible:!1,password:"",isPasswordValid:!1,isPasswordAlertVisible:!1,isPasswordPreviewMode:!1,confirm:"",isConfirmValid:!1,isConfirmAlertVisible:!1,isConfirmPreviewMode:!1,isConfirmDisabled:!0})},t.handleFormSubmit=function(e){e.preventDefault();var a=t.props,s=a.block,i=a.users,n=a.onUserLogin,r=t.state,o=r.login,c=r.password,d=r.isLoginValid,m=r.isPasswordValid,u=r.isConfirmValid,h=r.rememberMe,T=Object(l.a)(i).find((function(e){return e.login===o})),g="loginForm"===s&&d&&T.password===c;if("loginForm"===s)g?(T.rememberMe=h,n(T,s),t.handleFormReset()):t.setState({password:"",isPasswordValid:!1,isPasswordAlertVisible:!0,passwordAlertText:"Password is wrong!",isPasswordPreviewMode:!1});else if("signupForm"===s){if(!(d&&m&&u))return;n({login:o,password:c,rememberMe:h,tasks:[]},s),t.handleFormReset()}},t.state={rememberMe:!1,login:"",isLoginValid:!1,isLoginAlertVisible:!1,loginAlertText:"Please enter your login",password:"",isPasswordValid:!1,isPasswordAlertVisible:!1,passwordAlertText:"Please enter your password",isPasswordPreviewMode:!1,confirm:"",isConfirmValid:!1,isConfirmAlertVisible:!1,confirmAlertText:"Please confirm your password",isConfirmPreviewMode:!1,isConfirmDisabled:!0},t}return Object(h.a)(a,e),Object(d.a)(a,[{key:"render",value:function(){var e=this.props,a=e.className,t=e.block,s=this.state,n=s.rememberMe,r=s.login,o=s.isLoginValid,l=s.isLoginAlertVisible,c=s.loginAlertText,d=s.password,m=s.isPasswordValid,u=s.isPasswordAlertVisible,h=s.passwordAlertText,T=s.isPasswordPreviewMode,k=s.confirm,p=s.isConfirmValid,b=s.isConfirmAlertVisible,_=s.confirmAlertText,C=s.isConfirmPreviewMode,w=s.isConfirmDisabled,E="loginForm"===t,N=E?"Log In":"Sign Up",S=E?"Log In":"Cancel",B=E?"submit":"button",V=E?"button":"submit",P=E?void 0:this.handleCardToggle,y=E?this.handleCardToggle:void 0,M=g()("remember__checkbox","remember__checkbox--".concat(t),{"remember__checkbox--visible":n});return i.a.createElement("form",{className:a,onSubmit:this.handleFormSubmit},i.a.createElement("h2",{className:"".concat(t,"__heading")},N),i.a.createElement(f,{inputId:"".concat(t,"Login"),inputName:"login",parentName:t,value:r,label:"Login:",isInputValid:o,isAlertVisible:l,alertText:c,onInputBlur:this.handleAlert,onInputChange:this.handleLoginValidation}),i.a.createElement(f,{inputId:"".concat(t,"Password"),inputName:"password",parentName:t,value:d,label:"Password:",isInputValid:m,isAlertVisible:u,alertText:h,isPreviewMode:T,onPreviewModeChange:this.handlePasswordPreview,onInputBlur:this.handleAlert,onInputChange:this.handlePasswordValidation}),E?i.a.createElement("div",{className:"empty"}):i.a.createElement(f,{inputId:"".concat(t,"Confirm"),inputName:"confirm",parentName:t,value:k,label:"Confirm:",isInputValid:p,isAlertVisible:b,alertText:_,isDisabled:w,isPreviewMode:C,onPreviewModeChange:this.handlePasswordPreview,onInputBlur:this.handleAlert,onInputChange:this.handleConfirmValidation}),i.a.createElement("div",{className:"remember"},i.a.createElement("div",{className:"remember__field remember__field--".concat(t),onClick:this.handleRememberMe},i.a.createElement("svg",{className:M},i.a.createElement("use",{href:"".concat(v.a,"#check")}))),i.a.createElement("input",{id:"".concat(t,"Remember"),name:"".concat(t,"Remember"),className:"remember__input remember__input--".concat(t),type:"checkbox"}),i.a.createElement("label",{htmlFor:"".concat(t,"Remember"),className:"remember__label remember__label--".concat(t),onClick:this.handleRememberMe},"Remember Me")),i.a.createElement("button",{className:"".concat(t,"__button ").concat(t,"__button--login"),onClick:P,type:B},S),i.a.createElement("button",{className:"".concat(t,"__button ").concat(t,"__button--signup"),onClick:y,type:V},"Sign Up"))}}]),a}(s.Component)),I=(t(23),function(e){function a(e){var t;return Object(c.a)(this,a),(t=Object(m.a)(this,Object(u.a)(a).call(this,e))).handleCardToggle=function(){t.setState((function(e){return{isLoginFormVisible:!e.isLoginFormVisible,isSignupFormVisible:!e.isSignupFormVisible}}))},t.state={isUserPanelLoaded:!1,isLoginFormVisible:!1,isSignupFormVisible:!1},t}return Object(h.a)(a,e),Object(d.a)(a,[{key:"componentDidMount",value:function(){this.setState({isUserPanelLoaded:!0,isLoginFormVisible:!0})}},{key:"render",value:function(){var e=this.props,a=e.onUserLogin,t=e.users,s=this.state,n=s.isUserPanelLoaded,r=s.isLoginFormVisible,o=s.isSignupFormVisible,l=g()("UserPanel",{"UserPanel--visible":n}),c=g()("loginForm",{"loginForm--rotateIn":r,"loginForm--rotateOut":!r}),d=g()("signupForm",{"signupForm--rotateIn":o,"signupForm--rotateOut":!o});return i.a.createElement("div",{className:l},i.a.createElement("p",{className:"UserPanel__logo"},"task",i.a.createElement("span",{className:"UserPanel__logo--color"},"Timer")),i.a.createElement("div",{className:"UserPanel__container"},i.a.createElement(x,{className:c,block:"loginForm",onUserLogin:a,users:t,onCardToggle:this.handleCardToggle}),i.a.createElement(x,{className:d,block:"signupForm",onUserLogin:a,users:t,onCardToggle:this.handleCardToggle})))}}]),a}(s.Component)),j=(t(24),function(e){var a=e.parentName,t=e.isEditMode,s=e.editedSetting,n=e.onPreviewModeChange,r=e.onInputBlur,o=e.handleLoginValidation,l=e.handleOldPasswordValidation,c=e.handleNewPasswordValidation,d=e.handleConfirmValidation,m=e.state,u=m.login,h=m.isLoginValid,T=m.isLoginAlertVisible,k=m.loginAlertText,b=m.oldPassword,v=m.isOldPasswordValid,_=m.isOldPasswordAlertVisible,C=m.oldPasswordAlertText,w=m.isOldPasswordPreviewMode,E=m.newPassword,N=m.isNewPasswordValid,S=m.isNewPasswordAlertVisible,B=m.newPasswordAlertText,V=m.isNewPasswordPreviewMode,P=m.confirm,y=m.isConfirmValid,M=m.isConfirmAlertVisible,A=m.confirmAlertText,O=m.isConfirmPreviewMode,x=m.isConfirmDisabled,I=g()("UserEdit",Object(p.a)({"UserEdit--hidden":!t},"UserEdit--".concat(s),t));return i.a.createElement(i.a.Fragment,null,"login"===s?i.a.createElement("div",{className:I},i.a.createElement(f,{inputId:"".concat(a,"Login"),inputName:"login",parentName:a,value:u,label:"New Login:",isInputValid:h,isAlertVisible:T,alertText:k,onInputBlur:r,onInputChange:o})):"password"===s?i.a.createElement("div",{className:I},i.a.createElement(f,{inputId:"".concat(a,"OldPassword"),inputName:"oldPassword",parentName:a,value:b,label:"Old Password:",isInputValid:v,isAlertVisible:_,alertText:C,isPreviewMode:w,onPreviewModeChange:n,onInputBlur:r,onInputChange:l}),i.a.createElement(f,{inputId:"".concat(a,"NewPassword"),inputName:"newPassword",parentName:a,value:E,label:"New Password:",isInputValid:N,isAlertVisible:S,alertText:B,isPreviewMode:V,onPreviewModeChange:n,onInputBlur:r,onInputChange:c}),i.a.createElement(f,{inputId:"".concat(a,"Confirm"),inputName:"confirm",parentName:a,value:P,label:"Confirm:",isInputValid:y,isAlertVisible:M,alertText:A,isDisabled:x,isPreviewMode:O,onPreviewModeChange:n,onInputBlur:r,onInputChange:d})):"logout"===s?i.a.createElement("div",{className:I},i.a.createElement("p",{className:"UserEdit__text"},"Log out?")):i.a.createElement("div",{className:I},i.a.createElement("p",{className:"UserEdit__text"},"Remove user?")))}),L=(t(25),function(e){function a(e){var t;return Object(c.a)(this,a),(t=Object(m.a)(this,Object(u.a)(a).call(this,e))).handleStateChange=function(e){return t.setState(e)},t.handleAlert=function(e,a){var s,i=S(a),n=t.getInputAlert(e,a);t.setState((s={},Object(p.a)(s,"is".concat(i,"AlertVisible"),!0),Object(p.a)(s,"".concat(a,"AlertText"),n),s))},t.getInputAlert=function(e,a){var s=t.state.newPassword,i=""===e,n=/\s/g.test(e),r=e.length<6;switch(a){case"login":var o=t.props,c=o.block,d=o.users,m=o.loggedUserLogin,u=Object(l.a)(d).map((function(e){return e.login})),h=Object(l.a)(u).find((function(a){return a===e&&a!==m}));return i?"Please enter your login":n?"Login cannot contain any spaces":"loginForm"===c&&!h?"There is no user with this login":!!(("signupForm"===c||"userEdit"===c)&&h)&&"This login already exist. Try another one";case"password":case"oldPassword":case"newPassword":return i?"Please enter your password":n?"Password cannot contain any spaces":!!r&&"Password should have at least 6 characters";case"confirm":return i?"Please confirm your password":!(s===e)&&"Passwords do not match!";default:return!1}},t.handleLoginValidation=function(e){var a=!!t.getInputAlert(e,"login");t.setState({login:e,isLoginValid:!a,isLoginAlertVisible:!1})},t.handleOldPasswordValidation=function(e){var a=!!t.getInputAlert(e,"password");t.setState({oldPassword:e,isOldPasswordValid:!a,isOldPasswordAlertVisible:!1,isOldPasswordPreviewed:!1})},t.handleNewPasswordValidation=function(e){var a=!!t.getInputAlert(e,"password");t.setState({newPassword:e,isNewPasswordValid:!a,isNewPasswordAlertVisible:!1,isNewPasswordPreviewed:!1,confirm:"",isConfirmValid:!1,isConfirmAlertVisible:!1,isConfirmPreviewMode:!1,isConfirmDisabled:a})},t.handleConfirmValidation=function(e){var a=!!t.getInputAlert(e,"confirm");t.setState({confirm:e,isConfirmValid:!a,isConfirmAlertVisible:!1,isConfirmPreviewed:!1})},t.handlePasswordPreview=function(e){console.log("input",e);var a=S(e);t.setState((function(e){return Object(p.a)({},"is".concat(a,"PreviewMode"),!e["is".concat(a,"PreviewMode")])}))},t.handleUserEdit=function(e){var a=t.props,s=a.onUserUpdate,i=a.onUserLogout,n=a.onUserRemove,r=a.users,o=a.loggedUserLogin,c=t.state,d=c.editedSetting,m=c.login,u=c.oldPassword,h=c.newPassword,T=Object(l.a)(r).find((function(e){return e.login===o}));if("confirm"===e)switch(d){case"login":s(m,"login"),t.setState({isEditMode:!1});break;case"password":u!==T.password?(t.handleInputsReset(),t.setState({isOldPasswordAlertVisible:!0,oldPasswordAlertText:"Password is wrong!"})):(s(h,"password"),t.setState({isEditMode:!1}),t.handleInputsReset());break;case"logout":i();break;case"remove":n()}else"cancel"===e?(t.setState({isEditMode:!1}),t.handleInputsReset()):t.setState({isEditMode:!0,editedSetting:e})},t.handleInputsReset=function(){t.setState({login:"",isLoginValid:!1,isLoginAlertVisible:!1,loginAlertText:"Please enter your login",oldPassword:"",isOldPasswordValid:!1,isOldPasswordAlertVisible:!1,oldPasswordAlertText:"Please enter your old password",isOldPasswordPreviewMode:!1,newPassword:"",isNewPasswordValid:!1,isNewPasswordAlertVisible:!1,newPasswordAlertText:"Please enter your new password",isNewPasswordPreviewMode:!1,confirm:"",isConfirmValid:!1,isConfirmAlertVisible:!1,confirmAlertText:"Please confirm your password",isConfirmPreviewMode:!1,isConfirmDisabled:!0})},t.state={isEditMode:!1,editedSetting:null,login:"",isLoginValid:!1,isLoginAlertVisible:!1,loginAlertText:"Please enter your login",oldPassword:"",isOldPasswordValid:!1,isOldPasswordAlertVisible:!1,oldPasswordAlertText:"Please enter your old password",isOldPasswordPreviewMode:!1,newPassword:"",isNewPasswordValid:!1,isNewPasswordAlertVisible:!1,newPasswordAlertText:"Please enter your new password",isNewPasswordPreviewMode:!1,confirm:"",isConfirmValid:!1,isConfirmAlertVisible:!1,confirmAlertText:"Please confirm your password",isConfirmPreviewMode:!1,isConfirmDisabled:!0},t}return Object(h.a)(a,e),Object(d.a)(a,[{key:"render",value:function(){var e=this,a=this.props,t=a.block,s=a.isSidebarVisible,n=a.users,r=a.loggedUserLogin,o=this.state,c=o.isEditMode,d=o.editedSetting,m=o.isLoginValid,u=o.isOldPasswordValid,h=o.isNewPasswordValid,T=o.isConfirmValid,k=Object(l.a)(n).find((function(e){return e.login===r})).stats,p=["Change your login","Change your password","Log out to main app","Remove your profile"],b={finishedTasks:"Tasks finished:",avgTaskTime:"Average task time:",avgBreakTime:"Average break time:",avgTasksPerDay:"Average tasks per day:",dateCreated:"Profile created at:"},f=Object.keys(b),_=g()("Sidebar",{"Sidebar--visible":s}),C=g()("userButtons","userButtons--edit",{"userButtons--visible":!c}),w=g()("userButtons","userButtons--confirm",{"userButtons--visible":c});return i.a.createElement("section",{className:_},i.a.createElement("h2",{className:"Sidebar__userLogin"},r),i.a.createElement(j,{parentName:t,state:this.state,isEditMode:c,editedSetting:d,onPreviewModeChange:this.handlePasswordPreview,onInputBlur:this.handleAlert,handleLoginValidation:this.handleLoginValidation,handleOldPasswordValidation:this.handleOldPasswordValidation,handleNewPasswordValidation:this.handleNewPasswordValidation,handleConfirmValidation:this.handleConfirmValidation}),i.a.createElement("div",{className:"Sidebar__buttons"},i.a.createElement("div",{className:C},["login","password","logout","remove"].map((function(a,t){var s=g()("userButtons__button","userButtons__button--".concat(a),{"userButtons__button--visible":!c});return i.a.createElement("button",{className:s,key:a,title:p[t],onClick:function(){return e.handleUserEdit(a)}},i.a.createElement("svg",{className:"userButtons__svg",viewBox:"0 0 100 100"},i.a.createElement("use",{href:"".concat(v.a,"#").concat(a,"Edit")})))}))),i.a.createElement("div",{className:w},["confirm","cancel"].map((function(a){var t=("login"===d?!m:"password"===d&&(!u||!h||!T))&&"confirm"===a,s=g()("userButtons__button","userButtons__button--".concat(a),{"userButtons__button--visible":c,"userButtons__button--disabled":t});return i.a.createElement("button",{className:s,key:a,onClick:function(){return e.handleUserEdit(a)},disabled:t},i.a.createElement("svg",{className:"userButtons__svg",viewBox:"0 0 100 100"},i.a.createElement("use",{href:"".concat(v.a,"#").concat(a,"Edit")})))})))),i.a.createElement("section",{className:"Sidebar__section"},i.a.createElement("h3",{className:"Sidebar__heading"},"Stats"),i.a.createElement("table",{className:"stats"},i.a.createElement("caption",{className:"stats__caption visuallyhidden"},"Stats"),i.a.createElement("thead",{className:"stats__header visuallyhidden"},i.a.createElement("tr",{className:"stats__row"},i.a.createElement("th",{className:"stats__cell"},"Name"),i.a.createElement("th",{className:"stats__cell"},"Value"))),i.a.createElement("tbody",{className:"stats__body"},Object(l.a)(f).map((function(e){return i.a.createElement("tr",{className:"stats__row",key:e},i.a.createElement("th",{className:"stats__cell stats__cell--name",scope:"row"},b[e]),i.a.createElement("td",{className:"stats__cell stats__cell--value"},k[e]))}))))),i.a.createElement("section",{className:"Sidebar__section"},i.a.createElement("h3",{className:"Sidebar__heading"},"Color Theme"),i.a.createElement("p",{className:"Sidebar__text"},"To be added soon...")))}}]),a}(s.Component)),U=(t(26),function(e){var a,t=e.isVisible,s=e.isValid,n=e.modifier,r=e.title,o=e.label,l=e.minutes,c=e.seconds,d=e.placeholder,m=e.slideDirection,u=e.taskNameLength,h=e.onTaskNameChange,T=e.onMinutesChange,k=e.onSecondsChange,b=e.alertFlag,v=g()("CreatorInput",(a={},Object(p.a)(a,"CreatorInput--".concat(n),t),Object(p.a)(a,"showFromRight",t&&"toRight"===m),Object(p.a)(a,"hideToLeft",!t&&"toRight"===m),Object(p.a)(a,"showFromLeft",t&&"toLeft"===m),Object(p.a)(a,"hideToRight",!t&&"toLeft"===m),a)),f=g()("CreatorInput__text",{"CreatorInput__text--invalid":!s&&b}),_=g()("CreatorInput__inputs",{"CreatorInput__inputs--invalid":!s&&b}),C=g()("CreatorInput__input","CreatorInput__input--minutes",{"CreatorInput__input--invalid":!s&&b}),w=g()("CreatorInput__input","CreatorInput__input--seconds",{"CreatorInput__input--invalid":!s&&b});return i.a.createElement("div",{className:v},i.a.createElement("label",{htmlFor:n,className:"CreatorInput__label"},o),"taskName"===n?i.a.createElement("div",{className:"CreatorInput__textContainer"},i.a.createElement("textarea",{id:n,className:f,placeholder:d,spellCheck:"false",maxLength:80,value:r,onChange:function(e){return h(e.target.value)}}),i.a.createElement("div",{className:"CreatorInput__progress",style:A(u)})):i.a.createElement("div",{className:_},i.a.createElement("input",{id:n,name:"".concat(n,"Minutes"),className:C,placeholder:"min",maxLength:"2",value:l,onChange:function(e){return T(e.target.value)}}),i.a.createElement("span",{className:"CreatorInput__colon"},":"),i.a.createElement("input",{name:"".concat(n,"Seconds"),className:w,placeholder:"sec",maxLength:"2",value:c,onChange:function(e){return k(e.target.value)}})))}),F=(t(27),function(e){function a(e){var t;return Object(c.a)(this,a),(t=Object(m.a)(this,Object(u.a)(a).call(this,e))).componentWillUnmount=function(){clearTimeout(t.timeoutOutroId)},t.handleStateChange=function(e){return t.setState(e)},t.handleTaskName=function(e){t.setState({creatorTaskName:e,taskNameLength:e.length,isTaskNameValid:w(e),alertFlag:!0})},t.addNewTask=function(){var e=t.props,a=e.onBoardStateChange,s=e.onTaskEdit,i=t.state,n=i.creatorTaskName,r=i.creatorTaskMinutes,o=i.creatorTaskSeconds,l=i.creatorBreakMinutes,c=i.creatorBreakSeconds,d=i.creatorTotalTaskTime,m=i.creatorTotalBreakTime,u=i.creatorTaskTimeArray,h=i.creatorBreakTimeArray,T=Date.now(),g={taskName:n,taskMinutes:r,taskSeconds:o,breakMinutes:l,breakSeconds:c,totalTaskTime:d,totalBreakTime:m,totalTaskTimeArray:u,totalBreakTimeArray:h,dateCreated:T,id:T};a({isCreatorVisible:!1}),s(g,"add")},t.handleTimeChange=function(e,a,s,i){var n=y(e,a,s,i);if("task"===i){if("minutes"===s){var r=n.taskMinutes,o=n.totalTaskTime,l=n.totalTaskTimeArray,c=n.isTaskTimeValid;t.setState({creatorTaskMinutes:r,creatorTotalTaskTime:o,creatorTaskTimeArray:l,isTaskTimeValid:c,alertFlag:!0})}else if("seconds"===s){var d=n.taskSeconds,m=n.totalTaskTime,u=n.totalTaskTimeArray,h=n.isTaskTimeValid;t.setState({creatorTaskSeconds:d,creatorTotalTaskTime:m,creatorTaskTimeArray:u,isTaskTimeValid:h,alertFlag:!0})}}else if("break"===i)if("minutes"===s){var T=n.breakMinutes,g=n.totalBreakTime,k=n.totalBreakTimeArray,p=n.isBreakTimeValid;t.setState({creatorBreakMinutes:T,creatorTotalBreakTime:g,creatorBreakTimeArray:k,isBreakTimeValid:p,alertFlag:!0})}else if("seconds"===s){var b=n.breakSeconds,v=n.totalBreakTime,f=n.totalBreakTimeArray,_=n.isBreakTimeValid;t.setState({creatorBreakSeconds:b,creatorTotalBreakTime:v,creatorBreakTimeArray:f,isBreakTimeValid:_,alertFlag:!0})}},t.handleBackButton=function(e){e.preventDefault();var a=t.state,s=a.isTaskTimeVisible,i=a.isBreakTimeVisible;s&&t.setState({isTaskNameVisible:!0,isTaskTimeVisible:!1,slideDirection:"toLeft"}),i&&t.setState({isTaskTimeVisible:!0,isBreakTimeVisible:!1,slideDirection:"toLeft"})},t.handleNextButton=function(e){e.preventDefault();var a=t.state,s=a.isTaskNameVisible,i=a.isTaskTimeVisible,n=a.isBreakTimeVisible,r=a.isTaskNameValid,o=a.isTaskTimeValid,l=a.isBreakTimeValid;s&&r&&t.setState({isTaskNameVisible:!1,isTaskTimeVisible:!0,alertFlag:!1,slideDirection:"toRight"}),i&&o&&t.setState({isTaskTimeVisible:!1,isBreakTimeVisible:!0,alertFlag:!1,slideDirection:"toRight"}),n&&l&&(t.setState({isCreatorValid:!0,alertFlag:!1,isCreatorRotatingOut:!0,slideDirection:"toRight"}),t.timeoutOutroId=setTimeout((function(){return t.addNewTask()}),_))},t.handleCreatorClose=function(e){e.preventDefault(),(0,t.props.onBoardStateChange)({isCreatorVisible:!1})},t.state={isCreatorRotatingOut:!1,isTaskNameVisible:!0,isTaskTimeVisible:!1,isBreakTimeVisible:!1,creatorTaskName:"",creatorTaskMinutes:"",creatorTaskSeconds:"",creatorBreakMinutes:"",creatorBreakSeconds:"",creatorTotalTaskTime:0,creatorTotalBreakTime:0,taskNameLength:0,creatorTaskTimeArray:["",""],creatorBreakTimeArray:["",""],isTaskNameValid:!1,isTaskTimeValid:!1,isBreakTimeValid:!0,isCreatorValid:!1,alertFlag:!1,slideDirection:null},t}return Object(h.a)(a,e),Object(d.a)(a,[{key:"render",value:function(){var e=this,a=this.state,t=a.isCreatorRotatingOut,s=a.isTaskNameVisible,n=a.isTaskTimeVisible,r=a.isBreakTimeVisible,o=a.creatorTaskName,l=a.creatorTaskMinutes,c=a.creatorTaskSeconds,d=a.creatorBreakMinutes,m=a.creatorBreakSeconds,u=a.taskNameLength,h=a.isTaskNameValid,T=a.isTaskTimeValid,k=a.isBreakTimeValid,p=a.isCreatorValid,b=a.alertFlag,f=a.slideDirection,_=s&&h||n&&T||r&&k,w=g()("Creator",{"Creator--rotateOut":t}),E=g()("Creator__button","Creator__button--back",{"Creator__button--visible":!s}),N=g()("Creator__button","Creator__button--next",{"Creator__button--visible":_}),S={width:n?"".concat(1/3*100,"%"):r?p?"100%":"".concat(2/3*100,"%"):0};return i.a.createElement("form",{className:w,style:C},i.a.createElement(U,{isVisible:s,isValid:h,modifier:"taskName",title:o,label:"Enter task name",placeholder:"What would be your next task?",alertFlag:b,onTaskNameChange:this.handleTaskName,slideDirection:f,taskNameLength:u}),i.a.createElement(U,{isVisible:n,isValid:T,modifier:"taskTime",label:"Enter task time",placeholder:"Enter time here...",minutes:l,seconds:c,alertFlag:b,slideDirection:f,onMinutesChange:function(a){return e.handleTimeChange(a,c,"minutes","task")},onSecondsChange:function(a){return e.handleTimeChange(l,a,"seconds","task")}}),i.a.createElement(U,{isVisible:r,isValid:k,modifier:"breakTime",label:"Enter max break time",placeholder:"Enter time here...",minutes:d,seconds:m,alertFlag:b,slideDirection:f,onMinutesChange:function(a){return e.handleTimeChange(a,m,"minutes","break")},onSecondsChange:function(a){return e.handleTimeChange(d,a,"seconds","break")}}),i.a.createElement("button",{className:E,onClick:this.handleBackButton},i.a.createElement("svg",{className:"Creator__svg",viewBox:"0 0 512 512"},i.a.createElement("use",{href:"".concat(v.a,"#arrow-left")}))),i.a.createElement("button",{className:N,onClick:this.handleNextButton},i.a.createElement("svg",{className:"Creator__svg",viewBox:"0 0 512 512"},i.a.createElement("use",{href:"".concat(v.a,"#arrow-right")}))),i.a.createElement("button",{className:"Creator__button Creator__button--visible Creator__button--close",onClick:this.handleCreatorClose},i.a.createElement("svg",{className:"Creator__svg",viewBox:"0 0 512 512"},i.a.createElement("use",{href:"".concat(v.a,"#remove")}))),i.a.createElement("div",{className:"progressBar"},i.a.createElement("div",{className:"progressBar__loaded",style:S})))}}]),a}(s.Component)),D=(t(28),function(e){var a=e.output,t=e.isValid,s=e.isMaximized,n=e.taskNameLength,r=e.isDisabled,o=e.isEditMode,l=e.onTaskNameChange,c=e.onEditModeChange,d=g()("taskName",{"taskName--disabled":r,"taskName--maximized":s}),m=g()("taskName__text",{"taskName__text--visible":!o}),u=g()("taskName__inputContainer",{"taskName__inputContainer--visible":o}),h=g()("taskName__input",{"taskName__input--incorrect":!t}),T=g()("taskName__progress",{"taskName__progress--visible":o});return i.a.createElement("div",{className:d},i.a.createElement("h2",{className:m,onClick:c},'"'.concat(a,'"')),i.a.createElement("div",{className:u},i.a.createElement("textarea",{className:h,value:a,spellCheck:"false",maxLength:80,onChange:function(e){return l(e.target.value)}}),i.a.createElement("div",{className:T,style:A(n)})))}),R=function(e){var a=e.id,t=e.name,s=e.unit,n=e.time,r=e.isEditMode,o=e.onTimeChange,l=e.onEditModeChange,c=g()("TotalTime__text",{"TotalTime__text--visible":!r}),d=g()("TotalTime__input","TotalTime__input--".concat(s),{"TotalTime__input--visible":r}),m=s.slice(0,3);return i.a.createElement("div",{className:"TotalTime__unit TotalTime__unit--".concat(s)},i.a.createElement("p",{className:c,onClick:l},n),i.a.createElement("input",{id:a,name:t,className:d,placeholder:m,maxLength:"2",value:n,onChange:function(e){return o(e.target.value)}}))},z=(t(29),function(e){var a=e.modifier,t=e.value,s=e.isValid,n=e.isEditMode,r=e.onTimeChange,o=function(e,a){var t=function(e,a,t,s){var i="increase"===a?parseInt(e)+1:parseInt(e)-1;return V(i>=t&&i<=s?i:i<t?t:s)}(e=""===e?0:e,a,0,99);r(t)},l=g()("Spinners",["Spinners--".concat(a)],{"Spinners--visible":n,"Spinners--disabled":!s});return i.a.createElement("div",{className:l},i.a.createElement("button",{className:"Spinners__button Spinners__button--increase",onClick:function(){return o(t,"increase")},disabled:!s},i.a.createElement("svg",{className:"Spinners__svg",viewBox:"0 0 512 512"},i.a.createElement("use",{href:"".concat(v.a,"#arrow-up")}))),i.a.createElement("button",{className:"Spinners__button Spinners__button--decrease",onClick:function(){return o(t,"decrease")},disabled:!s},i.a.createElement("svg",{className:"Spinners__svg",viewBox:"0 0 512 512"},i.a.createElement("use",{href:"".concat(v.a,"#arrow-down")}))))}),Y=(t(30),function(e){var a=e.labelName,t=e.modifier,s=e.id,n=e.isMaximized,r=e.minutes,o=e.seconds,l=e.isValid,c=e.isDisabled,d=e.isEditMode,m=e.onEditModeChange,u=e.onMinutesChange,h=e.onSecondsChange,T=e.onKeyPress,k=g()("TotalTime TotalTime--".concat(t),{"TotalTime--maximized":n,"TotalTime--disabled":c}),p=g()("TotalTime__label",{"TotalTime__label--editMode":d}),b=g()("TotalTime__display",{"TotalTime__display--editMode":d,"TotalTime__display--incorrect":!l});return i.a.createElement("div",{className:k},i.a.createElement("label",{className:p,htmlFor:"".concat(t,"-").concat(s),onClick:m},a),i.a.createElement("div",{className:b,onKeyDown:function(e){return T(e.key)},tabIndex:"0"},i.a.createElement(z,{modifier:"minutes",value:r,isValid:l,isEditMode:d,onTimeChange:function(e){return u(e)}}),i.a.createElement(R,{id:"".concat(t,"-").concat(s),name:"".concat(t,"Minutes"),unit:"minutes",time:r,isEditMode:d,onTimeChange:function(e){return u(e)},onEditModeChange:m}),i.a.createElement("span",{className:"TotalTime__colon"}," : "),i.a.createElement(R,{name:"".concat(t,"Seconds"),unit:"seconds",time:o,isEditMode:d,onTimeChange:function(e){return h(e)},onEditModeChange:m}),i.a.createElement(z,{modifier:"seconds",value:o,isValid:l,isEditMode:d,onTimeChange:function(e){return h(e)}})))}),X=(t(31),function(e){var a=e.isMaximized,t=e.editModeActive,s=e.inputInvalid,n=e.cardRotatingMode,r=e.onAcceptButtonClick,o=e.onRemoveButtonClick,l=e.onTaskStateChange,c=e.onBoardStateChange,d=function(){l((function(e){return{isMaximized:!e.isMaximized}})),c({isPlaceholderVisible:!1})},m=g()("CardButtons",{"CardButtons--maximized":a}),u=g()("CardButtons__button","CardButtons__button--accept",{"CardButtons__button--visible":t,"CardButtons__button--disabled":s||n}),h=g()("CardButtons__button","CardButtons__button--minimize",{"CardButtons__button--disabled":t||n,"CardButtons__button--visible":a}),T=g()("CardButtons__button","CardButtons__button--maximize",{"CardButtons__button--disabled":t||n,"CardButtons__button--visible":!a}),k=g()("CardButtons__button","CardButtons__button--remove","CardButtons__button--visible",{"CardButtons__button--disabled":t||n});return i.a.createElement("div",{className:m},i.a.createElement("button",{className:u,onClick:r},i.a.createElement("svg",{className:"CardButtons__svg",viewBox:"0 0 512 512"},i.a.createElement("use",{href:"".concat(v.a,"#tick")}))),i.a.createElement("div",{className:"CardButtons__minmax"},i.a.createElement("button",{className:h,onClick:d},i.a.createElement("svg",{className:"CardButtons__svg",viewBox:"0 0 512 512"},i.a.createElement("use",{href:"".concat(v.a,"#minimize")}))),i.a.createElement("button",{className:T,onClick:d},i.a.createElement("svg",{className:"CardButtons__svg",viewBox:"0 0 512 512"},i.a.createElement("use",{href:"".concat(v.a,"#maximize")})))),i.a.createElement("button",{className:k,onClick:o,disabled:t||n},i.a.createElement("svg",{className:"CardButtons__svg",viewBox:"0 0 512 512"},i.a.createElement("use",{href:"".concat(v.a,"#remove")}))))}),W=(t(32),function(e){var a=e.type,t=e.elapsedTimeArray,s=e.remainingTimeArray,n=e.isElapsedMode,r="taskTime"===a?t.join(":"):t.slice(0,2).join(":"),o="taskTime"===a?s.join(":"):s.slice(0,2).join(":"),l=g()("TimeDisplay__type","TimeDisplay__type--elapsed",{"TimeDisplay__type--visible":n,"TimeDisplay__type--showUp":n,"TimeDisplay__type--hideUp":!n}),c=g()("TimeDisplay__type","TimeDisplay__type--remaining",{"TimeDisplay__type--visible":!n,"TimeDisplay__type--showUp":!n,"TimeDisplay__type--hideUp":n});return i.a.createElement("div",{className:"TimeDisplay"},i.a.createElement("div",{className:l},r),i.a.createElement("div",{className:c},o))}),K=(t(33),function(e){var a=e.modifier,t=e.isElapsedMode,s=e.elapsedTimeArray,n=e.remainingTimeArray,r=e.isCountdownVisible,o=e.totalBreaks,l=g()("Countdown Countdown--".concat(a),{"Countdown--visible":r,showFromRight:r&&o>0,hideToLeft:!r});return i.a.createElement("div",{className:l},"taskTime"===a?i.a.createElement("h3",{className:"Countdown__heading"},"Working Mode"):i.a.createElement("h3",{className:"Countdown__heading"},"Break Mode"),t?i.a.createElement("p",{className:"Countdown__timeType"},"Elapsed Time"):i.a.createElement("p",{className:"Countdown__timeType"},"Remaining Time"),i.a.createElement(W,{type:a,isElapsedMode:t,elapsedTimeArray:s,remainingTimeArray:n}))}),H=(t(34),function(e){var a=e.alertText,t=e.isStopAlertVisible,s=e.onStopCancel,n=e.onStopConfirm,r=g()("StopAlert",{"StopAlert--visible":t}),o=g()("StopAlert__container",{"StopAlert__container--visible":t});return i.a.createElement("section",{className:r},i.a.createElement("div",{className:o},i.a.createElement("h2",{className:"StopAlert__heading"},a),i.a.createElement("button",{className:"StopAlert__button StopAlert__button--stop",onClick:n},"Yes"),i.a.createElement("button",{className:"StopAlert__button StopAlert__button--cancel",onClick:s},"Cancel")))}),J=(t(35),function(e){var a=e.modifier,t=e.isVisible,s=e.isElapsedMode,n=e.elapsedPercent,r=e.remainingPercent,o=g()("Progress",{"Progress--visible":t,"Progress--taskTime":"taskTime"===a,"Progress--breakTime":"breakTime"===a}),l=g()("Progress__percent",{"Progress__percent--visible":s}),c=g()("Progress__percent",{"Progress__percent--visible":!s}),d="".concat(Math.round(n),"%"),m="".concat(Math.round(r),"%"),u={width:"".concat(s?n:r,"%")},h={width:"".concat(s?r:n,"%")};return i.a.createElement("section",{className:o},i.a.createElement("header",{className:"Progress__header"},i.a.createElement("p",{className:l},d),i.a.createElement("p",{className:c},m)),i.a.createElement("div",{className:"Progress__bar"},i.a.createElement("div",{className:"Progress__part Progress__part--loading",style:u}),i.a.createElement("div",{className:"Progress__part Progress__part--unloading",style:h})))}),$=(t(36),function(e){function a(){var e,t;Object(c.a)(this,a);for(var s=arguments.length,i=new Array(s),n=0;n<s;n++)i[n]=arguments[n];return(t=Object(m.a)(this,(e=Object(u.a)(a)).call.apply(e,[this].concat(i)))).handlePlayPauseButton=function(){var e=t.props,a=e.isTaskTimeActive,s=e.isBreakTimeActive,i=e.onTimerStateChange;(a||s)&&i((function(e){return{isTaskTimeActive:!e.isTaskTimeActive,isBreakTimeActive:!e.isBreakTimeActive,previousTime:Date.now()}})),a&&i((function(e){return{totalBreaks:e.totalBreaks+1}}))},t.handleToggleButton=function(){return t.props.onDisplayModeChange()},t}return Object(h.a)(a,e),Object(d.a)(a,[{key:"render",value:function(){var e=this.props,a=e.isTaskTimeActive,t=e.onStopButtonClick,s=e.cardRotatingMode,n=g()("Controls__svg",{"Controls__svg--hidden":a}),r=g()("Controls__svg",{"Controls__svg--hidden":!a}),o=g()("Controls__button","Controls__button--playPause",{"Controls__button--disabled":s}),l=g()("Controls__button","Controls__button--stop",{"Controls__button--disabled":s}),c=g()("Controls__button","Controls__button--toggle",{"Controls__button--disabled":s});return i.a.createElement("div",{className:"Controls"},i.a.createElement("button",{className:o,onClick:this.handlePlayPauseButton,disabled:s},i.a.createElement("svg",{className:n,viewBox:"0 0 512 512"},i.a.createElement("use",{href:"".concat(v.a,"#play")})),i.a.createElement("svg",{className:r,viewBox:"0 0 512 512"},i.a.createElement("use",{href:"".concat(v.a,"#pause")}))),i.a.createElement("button",{className:l,onClick:t,disabled:s},i.a.createElement("svg",{className:"Controls__svg",viewBox:"0 0 512 512"},i.a.createElement("use",{href:"".concat(v.a,"#stop")}))),i.a.createElement("button",{className:c,onClick:this.handleToggleButton,disabled:s},i.a.createElement("svg",{className:"Controls__svg",viewBox:"0 0 512 512"},i.a.createElement("use",{href:"".concat(v.a,"#toggle")}))))}}]),a}(s.Component)),Q=(t(37),function(e){function a(){return Object(c.a)(this,a),Object(m.a)(this,Object(u.a)(a).apply(this,arguments))}return Object(h.a)(a,e),Object(d.a)(a,[{key:"render",value:function(){var e,a=this.props,t=a.taskName,s=a.isTaskFinished,n=a.onTaskRemove,r=a.onTimerRestart,o=a.id,l=this.props.state,c=l.totalBreaks,d=l.elapsedBreakTime,m=l.elapsedBreakTimeArray,u=l.overallTime,h=l.overallTimeArray,T=c>1?" ".concat(c," breaks "):1===c?" ".concat(c," break "):" no brakes ",k=c?" ".concat(Math.round(d/u*100),"%"):"",b=M(h),f=M(m,d),_=g()("Finish",(e={},Object(p.a)(e,"Finish--success",s),Object(p.a)(e,"Finish--failure",!s),e));return i.a.createElement("section",{className:_},s?i.a.createElement("h2",{className:"Finish__heading"},"Time is up!",i.a.createElement("span",{className:"Finish__emoji",role:"img","aria-label":"party"}," \ud83c\udf89")):i.a.createElement("h2",{className:"Finish__heading"},"Too long break!",i.a.createElement("span",{className:"Finish__emoji",role:"img","aria-label":"party"}," \ud83d\ude41")),s?i.a.createElement("p",{className:"Finish__message"},"You have finished your task: ",i.a.createElement("br",null),i.a.createElement("span",{className:"Finish__accent"},'"'.concat(t,'"')),i.a.createElement("br",null),"in",i.a.createElement("span",{className:"Finish__accent"},b),"".concat(d>0?" including break time.":".")," ",i.a.createElement("br",null),"You had",i.a.createElement("span",{className:"Finish__accent"},T),"during this task",i.a.createElement("span",{className:"Finish__accent"},f),c?" long, what makes it around":"",i.a.createElement("span",{className:"Finish__accent"},k),c?" of all time.":"."):i.a.createElement("p",{className:"Finish__message"},"You spent too much time on breaks! ",i.a.createElement("br",null),"You had",i.a.createElement("span",{className:"Finish__accent"},T),"during this task",i.a.createElement("span",{className:"Finish__accent"},f),c?" long, what makes it around":"",i.a.createElement("span",{className:"Finish__accent"},k),c?" of all time.":"."),i.a.createElement("button",{className:"Finish__button Finish__button--restart",onClick:r},i.a.createElement("svg",{className:"Finish__svg",viewBox:"0 0 512 512"},i.a.createElement("use",{href:"".concat(v.a,"#retry")}))),i.a.createElement("button",{className:"Finish__button Finish__button--remove",onClick:function(){return n(o)}},i.a.createElement("svg",{className:"Task__svg",viewBox:"0 0 512 512"},i.a.createElement("use",{href:"".concat(v.a,"#remove")}))))}}]),a}(s.Component)),q=(t(38),function(e){function a(e){var t;Object(c.a)(this,a),(t=Object(m.a)(this,Object(u.a)(a).call(this,e))).handleRotatingStatus=function(){var e=t.props.onTaskStateChange;setTimeout((function(){e({isTaskRotatingIn:!0,isTaskRotatingOut:!1})}),_),setTimeout((function(){e({isTaskRotatingIn:!1})}),2*_)},t.handleTimerStop=function(){var e=t.props.onTaskStateChange;e({isTaskRotatingOut:!0}),t.setState({isTimerStarted:!1,isStopAlertVisible:!1}),t.timeoutId=setTimeout((function(){e({isTimerMounted:!1}),clearTimeout(t.timeoutId)}),_),t.handleRotatingStatus()},t.handleStateChange=function(e){return t.setState(e)},t.handleTimeDisplayMode=function(){var e=t.state.isTaskTimeActive?"Task":"Break";t.setState((function(a){return Object(p.a)({},"is".concat(e,"TimeElapsedMode"),!a["is".concat(e,"TimeElapsedMode")])}))},t.handleAlertVisibility=function(){t.setState((function(e){return{isStopAlertVisible:!e.isStopAlertVisible}}))},t.handleTimeTick=function(e){if(t.state["is".concat(e,"TimeActive")]&&t.state.isTimerStarted){var a,s,i=t.state,n=i.previousTime,r=i.elapsedTaskTime,o=i.elapsedBreakTime,l=t.props.onTaskFinish,c=t.state["total".concat(e,"Time")],d=t.state["elapsed".concat(e,"Time")],m=t.state["remaining".concat(e,"Time")],u=r+o,h=Date.now(),T=P(d),g=P(c),k=P(m),b=P(u),v=d/c*100,f=m/c*100;if(d>=c)t.setState((a={},Object(p.a)(a,"is".concat(e,"TimeActive"),!1),Object(p.a)(a,"elapsed".concat(e,"Time"),c),Object(p.a)(a,"elapsed".concat(e,"TimeArray"),g),Object(p.a)(a,"remaining".concat(e,"TimeArray"),["00","00","00"]),Object(p.a)(a,"elapsed".concat(e,"Percent"),100),Object(p.a)(a,"remaining".concat(e,"Time"),0),Object(p.a)(a,"remaining".concat(e,"Percent"),0),Object(p.a)(a,"is".concat(e,"Finished"),!0),Object(p.a)(a,"isStopAlertVisible",!1),Object(p.a)(a,"isFinishVisible",!0),Object(p.a)(a,"overallTime",u),Object(p.a)(a,"overallTimeArray",b),a)),l({elapsedTaskTime:r,elapsedBreakTime:o});else t.setState((s={previousTime:h},Object(p.a)(s,"elapsed".concat(e,"Time"),d+(h-n)),Object(p.a)(s,"elapsed".concat(e,"TimeArray"),T),Object(p.a)(s,"remaining".concat(e,"Time"),c-d),Object(p.a)(s,"remaining".concat(e,"TimeArray"),k),Object(p.a)(s,"elapsed".concat(e,"Percent"),v),Object(p.a)(s,"remaining".concat(e,"Percent"),f),s))}};var s=t.props.state,i=s.startTime,n=s.totalTaskTime,r=s.totalBreakTime,o=s.totalTaskTimeArray,l=s.totalBreakTimeArray;return t.state={isTimerStarted:!1,isStopAlertVisible:!1,isTimerVisible:!1,isTaskTimeElapsedMode:!0,isBreakTimeElapsedMode:!0,isTaskTimeActive:!0,isBreakTimeActive:!1,isTaskFinished:!1,isBreakFinished:!1,totalTaskTime:n,totalBreakTime:r,totalBreaks:0,elapsedTaskTime:0,elapsedTaskPercent:0,elapsedTaskTimeArray:["00","00","00"],elapsedBreakTime:0,elapsedBreakPercent:0,elapsedBreakTimeArray:["00","00","00"],remainingTaskTime:0,remainingTaskPercent:100,remainingTaskTimeArray:o,remainingBreakTime:0,remainingBreakPercent:100,remainingBreakTimeArray:l,previousTime:i,overallTime:0,overallTimeArray:["00","00","00"]},t}return Object(h.a)(a,e),Object(d.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.taskIntervalId=setInterval((function(){return e.handleTimeTick("Task")}),10),this.breakIntervalId=setInterval((function(){return e.handleTimeTick("Break")}),10),this.timeoutId=setTimeout((function(){e.setState({isTimerStarted:!0,isTimerVisible:!0,previousTime:Date.now()})}),_),this.handleRotatingStatus()}},{key:"componentWillUnmount",value:function(){clearInterval(this.taskIntervalId),clearInterval(this.breakIntervalId),clearTimeout(this.timeoutId)}},{key:"render",value:function(){var e=this.props.state.taskName,a=this.state,t=a.isTimerVisible,s=a.isStopAlertVisible,n=a.isTaskTimeElapsedMode,r=a.isBreakTimeElapsedMode,o=a.isTaskFinished,l=a.isBreakFinished,c=a.isTaskTimeActive,d=a.isBreakTimeActive,m=a.elapsedTaskPercent,u=a.elapsedTaskTimeArray,h=a.elapsedBreakPercent,T=a.elapsedBreakTimeArray,k=a.remainingTaskPercent,p=a.remainingTaskTimeArray,b=a.remainingBreakPercent,v=a.remainingBreakTimeArray,f=a.totalBreaks,_=this.props,C=_.id,w=_.onTaskStateChange,E=_.onTaskRemove,N=_.cardRotatingMode,S=g()("Timer",{"Timer--visible":t,"Timer--taskTime":c||o,"Timer--breakTime":d||l});return i.a.createElement("section",{className:S},i.a.createElement("h2",{className:"Timer__heading"},'"'.concat(e,'"')),i.a.createElement("div",{className:"Timer__container"},i.a.createElement(K,{modifier:"taskTime",isElapsedMode:n,elapsedTimeArray:u,remainingTimeArray:p,elapsedTaskPercent:m,remainingTaskPercent:k,isCountdownVisible:c||o,onTaskStateChange:w,totalBreaks:f}),i.a.createElement(K,{modifier:"breakTime",isElapsedMode:r,elapsedTimeArray:T,remainingTimeArray:v,elapsedTaskPercent:h,remainingTaskPercent:b,isCountdownVisible:d||l,onTaskStateChange:w,totalBreaks:f})),i.a.createElement("p",{className:"Timer__breaks"},function(e){return"".concat(e,"\n").concat(1===e?"break":"breaks"," used\n")}(f)),i.a.createElement($,{isTaskTimeActive:c,isBreakTimeActive:d,cardRotatingMode:N,onDisplayModeChange:this.handleTimeDisplayMode,onTimerStateChange:this.handleStateChange,onStopButtonClick:this.handleAlertVisibility}),i.a.createElement("div",{className:"Timer__progress"},i.a.createElement(J,{modifier:"taskTime",isVisible:c||o,isElapsedMode:n,elapsedPercent:m,remainingPercent:k}),i.a.createElement(J,{modifier:"breakTime",isVisible:d||l,isElapsedMode:r,elapsedPercent:h,remainingPercent:b})),i.a.createElement(H,{alertText:"Do you really want to stop this task?",isStopAlertVisible:s,onStopCancel:this.handleAlertVisibility,onStopConfirm:this.handleTimerStop}),o?i.a.createElement(Q,{isTaskFinished:o,taskName:e,state:this.state,onTimerStateChange:this.handleStateChange,onTaskStateChange:w,onTaskRemove:E,onTimerRestart:this.handleTimerStop,id:C}):i.a.createElement("div",null),l?i.a.createElement(Q,{isTaskFinished:o,taskName:e,state:this.state,onTimerStateChange:this.handleStateChange,onTaskStateChange:w,onTaskRemove:E,onTimerRestart:this.handleTimerStop,id:C}):i.a.createElement("div",null))}}]),a}(s.Component)),G=(t(39),function(e){function a(e){var t;Object(c.a)(this,a),(t=Object(m.a)(this,Object(u.a)(a).call(this,e))).componentDidMount=function(){t.setState({isTaskMounted:!0})},t.componentWillUnmount=function(){clearTimeout(t.timeoutId)},t.handleStateChange=function(e){return t.setState(e)},t.handleTaskNameChange=function(e){t.setState({taskName:e,taskNameLength:e.length,isTaskNameValid:w(e)})},t.handleAlertVisibility=function(){t.setState((function(e){return{isStopAlertVisible:!e.isStopAlertVisible}}))},t.handleTaskRemove=function(){var e=t.props.id;(0,t.props.onTaskRemove)(e)},t.handleEditMode=function(e){t.state.isMaximized&&t.setState(Object(p.a)({},"is".concat(e,"EditMode"),!0))},t.acceptEditChange=function(){var e=t.state,a=e.taskName,s=e.totalTaskTime,i=e.totalBreakTime,n=e.totalTaskTimeArray,r=e.totalBreakTimeArray,l=e.isTaskNameValid,c=e.isTaskTimeValid,d=e.isBreakTimeValid,m=t.props,u=m.id,h=m.onTaskEdit,T=Object(o.a)(n,2),g=T[0],k=T[1],p=Object(o.a)(r,2),b=p[0],v=p[1];l&&c&&d&&(t.setState({isTaskNameEditMode:!1,isTaskTimeEditMode:!1,isBreakTimeEditMode:!1,taskMinutes:g,taskSeconds:k,breakMinutes:b,breakSeconds:v}),h({taskName:a,taskMinutes:g,taskSeconds:k,breakMinutes:b,breakSeconds:v,totalTaskTime:s,totalBreakTime:i,totalTaskTimeArray:n,totalBreakTimeArray:r,id:u},"edit"))},t.handleTimeChange=function(e,a,s,i){var n=y(e,a,s,i);if("task"===i){if("minutes"===s){var r=n.taskMinutes,o=n.totalTaskTime,l=n.totalTaskTimeArray,c=n.isTaskTimeValid;t.setState({taskMinutes:r,totalTaskTime:o,totalTaskTimeArray:l,isTaskTimeValid:c})}else if("seconds"===s){var d=n.taskSeconds,m=n.totalTaskTime,u=n.totalTaskTimeArray,h=n.isTaskTimeValid;t.setState({taskSeconds:d,totalTaskTime:m,totalTaskTimeArray:u,isTaskTimeValid:h})}}else if("break"===i)if("minutes"===s){var T=n.breakMinutes,g=n.totalBreakTime,k=n.totalBreakTimeArray,p=n.isBreakTimeValid;t.setState({breakMinutes:T,totalBreakTime:g,totalBreakTimeArray:k,isBreakTimeValid:p})}else if("seconds"===s){var b=n.breakSeconds,v=n.totalBreakTime,f=n.totalBreakTimeArray,_=n.isBreakTimeValid;t.setState({breakSeconds:b,totalBreakTime:v,totalBreakTimeArray:f,isBreakTimeValid:_})}},t.handleStartButton=function(){t.setState({isTaskRotatingOut:!0,isTimerMounted:!0})},t.handleKeyPress=function(e){var a=t.state,s=a.isTaskNameEditMode,i=a.isTaskTimeEditMode,n=a.isBreakTimeEditMode;"Enter"===e&&(s||i||n)&&t.acceptEditChange()},t.handleMaximizeCard=function(){var e=t.props.onBoardStateChange;t.state.isMaximized||(t.setState({isMaximized:!0}),e({isPlaceholderVisible:!1}))};var s=t.props.task,i=s.taskName,n=s.totalTaskTime,r=s.totalBreakTime,l=s.totalTaskTimeArray,d=s.totalBreakTimeArray;return t.state={isMaximized:!0,isTaskRotatingIn:!1,isTaskRotatingOut:!1,isTaskMounted:!1,isTimerMounted:!1,isStopAlertVisible:!1,taskName:i,taskNameLength:i.length,taskMinutes:l[0],taskSeconds:l[1],breakMinutes:d[0],breakSeconds:d[1],totalTaskTime:n,totalBreakTime:r,totalTaskTimeArray:l,totalBreakTimeArray:d,isTaskNameEditMode:!1,isTaskTimeEditMode:!1,isBreakTimeEditMode:!1,isTaskNameValid:!0,isTaskTimeValid:!0,isBreakTimeValid:!0},t}return Object(h.a)(a,e),Object(d.a)(a,[{key:"render",value:function(){var e=this,a=this.props,t=a.id,s=a.onCardStateChange,n=a.onBoardStateChange,r=a.onTaskFinish,o=this.state,l=o.isMaximized,c=o.isTaskMounted,d=o.isTaskRotatingIn,m=o.isTaskRotatingOut,u=o.isStopAlertVisible,h=o.taskName,T=o.taskNameLength,k=o.taskMinutes,p=o.taskSeconds,b=o.breakMinutes,f=o.breakSeconds,_=o.isTaskNameEditMode,w=o.isTaskTimeEditMode,E=o.isBreakTimeEditMode,N=o.isTaskNameValid,S=o.isTaskTimeValid,B=o.isBreakTimeValid,V=_||w||E,P=!N||!S||!B,y=d||m,M=w||E||y,A=_||E||y,O=_||w||y,x=g()("Task",{"Task--visible":c,"Task--maximized":l,"Task--editMode":V,"Task--rotateIn":d&&c,"Task--rotateOut":m&&c}),I=g()("Task__startButton",{"Task__startButton--maximized":l,"Task__startButton--disabled":V||y});return i.a.createElement("section",{className:x,style:C,onClick:this.handleMaximizeCard},i.a.createElement(D,{output:h,isValid:N,isMaximized:l,taskNameLength:T,isDisabled:M,isEditMode:_,onEditModeChange:function(){return e.handleEditMode("TaskName")},onTaskNameChange:this.handleTaskNameChange}),i.a.createElement(Y,{labelName:"Task Time",modifier:"taskTime",id:t,isMaximized:l,minutes:k,seconds:p,isValid:S,isDisabled:A,onEditModeChange:function(){return e.handleEditMode("TaskTime")},isEditMode:w,onKeyPress:this.handleKeyPress,onMinutesChange:function(a){return e.handleTimeChange(a,p,"minutes","task")},onSecondsChange:function(a){return e.handleTimeChange(k,a,"seconds","task")}}),i.a.createElement(Y,{labelName:"Break Time",modifier:"breakTime",id:t,isMaximized:l,minutes:b,seconds:f,isValid:B,isDisabled:O,onEditModeChange:function(){return e.handleEditMode("BreakTime")},isEditMode:E,onKeyPress:this.handleKeyPress,onMinutesChange:function(a){return e.handleTimeChange(a,f,"minutes","break")},onSecondsChange:function(a){return e.handleTimeChange(b,a,"seconds","break")}}),i.a.createElement(X,{isMaximized:l,editModeActive:V,inputInvalid:P,cardRotatingMode:y,onAcceptButtonClick:this.acceptEditChange,onRemoveButtonClick:this.handleAlertVisibility,onTaskStateChange:this.handleStateChange,onBoardStateChange:n}),i.a.createElement("button",{className:I,disabled:V||y,onClick:this.handleStartButton},i.a.createElement("svg",{className:"Task__svg",viewBox:"0 0 512 512"},i.a.createElement("use",{href:"".concat(v.a,"#play")}))),this.state.isTimerMounted?i.a.createElement(q,{onTaskStateChange:this.handleStateChange,state:this.state,id:t,onTaskRemove:this.handleTaskRemove,cardRotatingMode:y,onCardStateChange:s,onTaskFinish:r}):i.a.createElement("div",{className:"empty"}),i.a.createElement(H,{alertText:"Do you really want to remove this task?",isStopAlertVisible:u,onStopCancel:this.handleAlertVisibility,onStopConfirm:function(a){return e.handleTaskRemove(a)}}))}}]),a}(s.Component)),Z=(t(40),function(e){function a(e){var t;return Object(c.a)(this,a),(t=Object(m.a)(this,Object(u.a)(a).call(this,e))).getHoveredCardSizes=function(e){var a=t.props,s=a.cardIndex,i=a.cardsSizes;return e>=0&&e!==s?i[e]:null},t.handleStateChange=function(e){return t.setState(e)},t.handleCardsSizes=function(){var e=t.props.onBoardStateChange,a=t.card.current.parentNode.children;e({cardsSizes:Object(l.a)(a).filter((function(e){return e.classList.contains("Card")})).map((function(e){var a=e.offsetHeight,t=e.offsetLeft,s=e.offsetTop;return{height:a,width:e.offsetWidth,left:t,top:s}}))})},t.handleMouseDown=function(e){var a=e.clientX,s=e.clientY,i=t.props.onBoardStateChange;window.addEventListener("mousemove",t.handleMouseMove),window.addEventListener("mouseup",t.handleMouseUp),t.setState({originalX:a+window.scrollX,originalY:s+window.scrollY}),t.handleCardsSizes(),i({isPlaceholderVisible:!0})},t.handleMouseMove=function(e){var a=e.clientX,s=e.clientY,i=t.props,n=i.onBoardStateChange,r=i.cardIndex,o=i.cardsSizes,c=a+window.scrollX,d=s+window.scrollY,m=o[r],u=Object(l.a)(o).findIndex((function(e){var a=e.left,t=e.top,s=e.width,i=e.height;return c>=a&&c<=a+s&&(d>=t&&d<=t+i)})),h=t.getHoveredCardSizes(u);(t.setState((function(e){return{translateX:c-e.originalX,translateY:d-e.originalY,isDragging:!0}})),h)&&n({hoveredOffsetX:m.left-h.left,hoveredOffsetY:m.top-h.top});n({isDraggingMode:!0,draggedCardIndex:r,hoveredCardIndex:r!==u?u:-1})},t.handleMouseUp=function(){var e=t.props,a=e.onBoardStateChange,s=e.draggedCardIndex,i=e.hoveredCardIndex,n=e.cardsSizes[s],r=t.getHoveredCardSizes(i);if(window.removeEventListener("mousemove",t.handleMouseMove),window.removeEventListener("mouseup",t.handleMouseUp),i<0)t.setState({originalX:0,originalY:0,translateX:0,translateY:0,isDragging:!1});else{var o=t.props.onTaskOrderChange;if(r){var l=r.left-n.left,c=r.top-n.top,d=-1*(l-t.state.translateX),m=-1*(c-t.state.translateY);t.setState({originalX:0,originalY:0,translateX:d,translateY:m})}var u=setTimeout((function(){t.setState({translateX:0,translateY:0,isDragging:!1}),t.handleCardsSizes(),clearTimeout(u)}),30);o(s,i)}a({isDraggingMode:!1});var h=setTimeout((function(){a({draggedCardIndex:-1,hoveredCardIndex:-1}),clearTimeout(h)}),30)},t.card=i.a.createRef(),t.draggable=i.a.createRef(),t.transitionTime=1e3,t.state={isDragging:!1,originalX:0,originalY:0,translateX:0,translateY:0},t}return Object(h.a)(a,e),Object(d.a)(a,[{key:"componentWillUnmount",value:function(){window.removeEventListener("mousemove",this.handleMouseMove),window.removeEventListener("mouseup",this.handleMouseUp)}},{key:"render",value:function(){var e=this.props,a=e.task,t=e.onTaskRemove,s=e.cardIndex,n=e.isDraggingMode,r=e.draggedCardIndex,o=e.hoveredCardIndex,l=e.hoveredOffsetX,c=e.hoveredOffsetY,d=e.onBoardStateChange,m=e.onTaskFinish,u=e.onTaskEdit,h=this.state,T=h.isDragging,k=h.translateX,p=h.translateY,b=s===o&&n?{transform:"translate(".concat(l,"px, ").concat(c,"px)")}:{transform:"translate(".concat(k,"px, ").concat(p,"px)")},v=g()("Card",{"Card--dragged":T,"Card--hovered":s===o&&n,"Card--noTransition":T||s===r&&-1!==o});return i.a.createElement("div",{className:v,style:b,ref:this.card,onMouseDown:this.handleMouseDown},i.a.createElement(G,{task:a,id:a.dateCreated,onTaskRemove:t,onCardStateChange:this.handleStateChange,onBoardStateChange:d,onTaskFinish:m,onTaskEdit:u}))}}]),a}(s.Component)),ee=(t(41),function(e){var a=e.placeholderIndex,t=e.cardsSizes,s=e.isPlaceholderVisible,n=t[a],r={};n&&(r={top:n.top,left:n.left,width:n.width,height:n.height});var o=g()("CardPlaceholder",{"CardPlaceholder--visible":s});return i.a.createElement("div",{className:o,style:r})}),ae=(t(42),function(e){function a(e){var t;return Object(c.a)(this,a),(t=Object(m.a)(this,Object(u.a)(a).call(this,e))).componentDidMount=function(){window.addEventListener("resize",t.handleWindowResize)},t.componentWillUnmount=function(){window.removeEventListener("resize",t.handleWindowResize)},t.handleWindowResize=function(){t.setState({isPlaceholderVisible:!1})},t.handleStateChange=function(e){return t.setState(e)},t.handleSidebar=function(){t.setState((function(e){return{isSidebarVisible:!e.isSidebarVisible}}))},t.handleSidebarQuit=function(e){var a=e.target;/Board--sidebarMode/.test(a.className)&&t.handleSidebar()},t.handleTaskRemove=function(e){(0,t.props.onTaskRemove)(e),t.setState({isPlaceholderVisible:!1})},t.handleNewTaskButton=function(){t.setState({isCreatorVisible:!0,isPlaceholderVisible:!1})},t.state={isCreatorVisible:!1,isPlaceholderVisible:!1,isSidebarVisible:!1,isDraggingMode:!1,cardsSizes:[],draggedCardIndex:-1,hoveredCardIndex:-1,hoveredOffsetX:0,hoveredOffsetY:0},t}return Object(h.a)(a,e),Object(d.a)(a,[{key:"render",value:function(){var e=this,a=this.props,t=a.users,s=a.loggedUserLogin,n=a.onUserUpdate,r=a.onTaskOrderChange,o=a.onUserLogout,c=a.onUserRemove,d=a.onTaskFinish,m=a.onTaskEdit,u=this.state,h=u.isCreatorVisible,T=u.isSidebarVisible,k=u.isPlaceholderVisible,p=u.isDraggingMode,b=u.hoveredCardIndex,f=u.draggedCardIndex,_=u.hoveredOffsetX,C=u.hoveredOffsetY,w=u.cardsSizes,E=Object(l.a)(t).find((function(e){return e.login===s})).tasks,N=g()("Board",{"Board--sidebarMode":T}),S=g()("Board__newTaskButton",{"Board__newTaskButton--visible":!h}),B=g()("Board__creator",{"Board__creator--maximized":h}),V=g()("Board__logo",{"Board__logo--visible":T});return i.a.createElement("section",{className:N},i.a.createElement("header",{className:"Board__header"},i.a.createElement("h2",{className:V},"task",i.a.createElement("span",{className:"Board__logo--color"},"Timer")),i.a.createElement("button",{className:"Board__burger",onClick:this.handleSidebar},i.a.createElement("svg",{className:"Board__burgerSvg",viewBox:"0 0 100 100"},i.a.createElement("use",{href:"".concat(v.a,"#burger")})))),i.a.createElement(L,{block:"userEdit",isSidebarVisible:T,users:t,loggedUserLogin:s,onUserUpdate:n,onUserLogout:o,onUserRemove:c}),E.map((function(a,t){return i.a.createElement(Z,{key:"card-".concat(a.dateCreated),task:a,cardIndex:t,onTaskOrderChange:r,onBoardStateChange:e.handleStateChange,onTaskRemove:e.handleTaskRemove,isDraggingMode:p,hoveredCardIndex:b,draggedCardIndex:f,hoveredOffsetX:_,hoveredOffsetY:C,cardsSizes:w,onTaskFinish:d,onTaskEdit:m})})),E.map((function(e,a){return i.a.createElement(ee,{key:"placeholder-".concat(a),placeholderIndex:a,cardsSizes:w,isPlaceholderVisible:k})})),i.a.createElement("section",{className:B},i.a.createElement("button",{className:S,onClick:this.handleNewTaskButton},"Add New Task"),h?i.a.createElement(F,{isVisible:h,onBoardStateChange:this.handleStateChange,onTaskEdit:m}):i.a.createElement("div",{className:"empty"})))}}]),a}(s.Component)),te=t(11),se=t.n(te),ie=(t(43),function(){return i.a.createElement("div",{className:"Logo"},i.a.createElement("svg",{className:"Logo__base",viewBox:"0 0 512 612"},i.a.createElement("use",{href:"".concat(se.a,"#logoBase")})),i.a.createElement("svg",{className:"Logo__letter",viewBox:"0 0 512 612"},i.a.createElement("use",{href:"".concat(se.a,"#logoLetter")})),i.a.createElement("svg",{className:"Logo__shadow Logo__shadow--base",viewBox:"0 0 512 612"},i.a.createElement("use",{href:"".concat(se.a,"#logoBaseShadow")})),i.a.createElement("svg",{className:"Logo__shadow Logo__shadow--letter",viewBox:"0 0 512 612"},i.a.createElement("use",{href:"".concat(se.a,"#logoLetterShadow")})))}),ne=[{login:"Jakub",password:"jakubek",rememberMe:!1,date:[20,0,2020,16,6],stats:{finishedTasks:33,avgTaskTime:0,avgBreakTime:0,avgTasksPerDay:0,dateCreated:null,totalTaskTime:34342,totalBreakTime:5645},tasks:[{taskName:"Add some feature to TaskTimer App",taskMinutes:20,taskSeconds:0,breakMinutes:5,breakSeconds:0,totalTaskTime:2e6,totalBreakTime:5e5,totalTaskTimeArray:["20","00","00"],totalBreakTimeArray:["05","00","00"],id:56436543654,dateCreated:56436543654},{taskName:"Do exercices",taskMinutes:0,taskSeconds:1,breakMinutes:0,breakSeconds:1,totalTaskTime:1e3,totalBreakTime:1e3,totalTaskTimeArray:["00","01","00"],totalBreakTimeArray:["00","01","00"],id:6546567854,dateCreated:6546567854},{taskName:"Test task for preview purposes",taskMinutes:30,taskSeconds:0,breakMinutes:10,breakSeconds:0,totalTaskTime:5e5,totalBreakTime:1e5,totalTaskTimeArray:["05","00","00"],totalBreakTimeArray:["01","00","00"],id:90798758576,dateCreated:90798758576},{taskName:"Another task for testing",taskMinutes:0,taskSeconds:1,breakMinutes:0,breakSeconds:1,totalTaskTime:1e3,totalBreakTime:1e3,totalTaskTimeArray:["00","01","00"],totalBreakTimeArray:["00","01","00"],id:654765387657985,dateCreated:654765387657985}]},{login:"Anna",password:"aneczka",rememberMe:!0,date:[12,10,2019,18,12],stats:{finishedTasks:444,avgTaskTime:0,avgBreakTime:0,avgTasksPerDay:0,dateCreated:null,totalTaskTime:4535443,totalBreakTime:43534},tasks:[{taskName:"Test task for preview purposes",taskMinutes:30,taskSeconds:0,breakMinutes:10,breakSeconds:0,totalTaskTime:5e5,totalBreakTime:1e5,totalTaskTimeArray:["05","00","00"],totalBreakTimeArray:["01","00","00"],id:90798758576,dateCreated:90798758576},{taskName:"Another task for testing",taskMinutes:0,taskSeconds:1,breakMinutes:0,breakSeconds:1,totalTaskTime:1e3,totalBreakTime:1e3,totalTaskTimeArray:["00","01","00"],totalBreakTimeArray:["00","01","00"],id:654765387657985,dateCreated:654765387657985}]},{login:"Agnieszka",password:"agnieszka",rememberMe:!1,date:[3,2,2020,14,38],stats:{finishedTasks:22,avgTaskTime:0,avgBreakTime:0,avgTasksPerDay:0,dateCreated:null,totalTaskTime:54546,totalBreakTime:3454},tasks:[]},{login:"Olek",password:"aleksander",rememberMe:!1,date:[16,2,2020,14,58],stats:{finishedTasks:12,avgTaskTime:0,avgBreakTime:0,avgTasksPerDay:0,dateCreated:null,totalTaskTime:6545,totalBreakTime:454},tasks:[]}],re=(t(44),function(e){function a(e){var t;return Object(c.a)(this,a),(t=Object(m.a)(this,Object(u.a)(a).call(this,e))).componentDidMount=function(){if(localStorage.getItem("taskTimerUsers")){var e=JSON.parse(localStorage.getItem("taskTimerUsers"));t.setState({users:e,isAppLoaded:!0})}else{var a=t.state.users;Object(l.a)(a).forEach((function(e){var a=e.stats,t=a.finishedTasks,s=a.totalTaskTime,i=a.totalBreakTime,n=Object(o.a)(e.date,5),r=n[0],l=n[1],c=n[2],d=n[3],m=n[4],u=new Date(c,l,r,d,m);r=V(r),l=V(l+1),d=V(d),m=V(m);var h=O(u),T=Math.round(t/h),g=P(s/t),k=P(i/t),p=Object(o.a)(g,2),b=p[0],v=p[1],f=Object(o.a)(k,2),_=f[0],C=f[1],w="".concat(b," min ").concat(v," sec"),E="".concat(_," min ").concat(C," sec");e.stats.avgTasksPerDay=T,e.stats.avgTaskTime=w,e.stats.avgBreakTime=E,e.createdAt=u,e.stats.dateCreated="".concat(r,"-").concat(l,"-").concat(c," ").concat(d,":").concat(m)})),t.setState((function(e){return{users:e.users,isAppLoaded:!0}})),t.exportUsers()}t.setState({isAppLoaded:!0})},t.componentDidUpdate=function(){console.log("APP UPDATED"),t.exportUsers()},t.componentWillUnmount=function(){},t.handleStateChange=function(e){return t.setState(e)},t.exportUsers=function(){var e=t.state.users;localStorage.setItem("taskTimerUsers",JSON.stringify(e))},t.handleUserLogin=function(e,a){t.setState((function(s){return{isUserPanelVisible:!1,isBoardVisible:!0,users:"loginForm"===a?t.state.users:[].concat(Object(l.a)(s.users),[e]),loggedUserLogin:e.login}}))},t.handleUserLogout=function(){var e=t.state,a=e.users,s=e.loggedUserLogin;Object(l.a)(a).find((function(e){return e.login===s})).rememberMe=!1,t.setState((function(e){return{users:e.users,isUserPanelVisible:!0,isBoardVisible:!1,loggedUserLogin:null}}))},t.handleUserRemove=function(){var e=t.state.loggedUserLogin;t.setState((function(a){return{users:Object(l.a)(a.users).filter((function(a){return a.login!==e})),isBoardVisible:!1,isUserPanelVisible:!0}}))},t.handleTaskRemove=function(e){var a=t.state,s=a.loggedUserLogin,i=a.users;t.setState((function(a){var t=Object(l.a)(a.users).find((function(e){return e.login===s}));return t.tasks=t.tasks.filter((function(a){return a.id!==e})),{users:i}}))},t.handleTaskOrder=function(e,a){var s=t.state,i=s.loggedUserLogin,n=s.users;t.setState((function(t){var s=Object(l.a)(t.users).find((function(e){return e.login===i})),r=s.tasks,o=Object(l.a)(r);return o.splice(e,1,r[a]),o.splice(a,1,r[e]),s.tasks=o,{users:n}}))},t.handleUserUpdate=function(e,a){var s=t.state,i=s.loggedUserLogin,n=s.users;Object(l.a)(n).find((function(e){return e.login===i}))[a]=e,"login"===a&&t.setState({loggedUserLogin:e})},t.handleTaskFinish=function(e){var a=t.state,s=a.users,i=a.loggedUserLogin,n=e.elapsedTaskTime,r=e.elapsedBreakTime,c=Object(l.a)(s).find((function(e){return e.login===i})),d=c.stats,m=d.finishedTasks,u=d.totalTaskTime,h=d.totalBreakTime,T=O(c.createdAt),g=m+1,k=u+n,p=h+r,b=Math.round(g/T),v=P(k/g),f=P(p/g),_=Object(o.a)(v,2),C=_[0],w=_[1],E=Object(o.a)(f,2),N=E[0],S=E[1],B="".concat(C," min ").concat(w," sec"),V="".concat(N," min ").concat(S," sec");c.stats.finishedTasks=g,c.stats.totalTaskTime=k,c.stats.totalBreakTime=p,c.stats.avgTaskTime=B,c.stats.avgBreakTime=V,c.stats.avgTasksPerDay=b,t.setState((function(e){return{users:e.users}}))},t.handleTaskEdit=function(e,a){var s=t.state,i=s.users,n=s.loggedUserLogin,r=Object(l.a)(i).find((function(e){return e.login===n}));"edit"===a||"add"===a&&(r.tasks=[].concat(Object(l.a)(r.tasks),[e]),t.setState((function(e){return{users:e.users}})))},t.state={isAppLoaded:!1,isIntroVisible:!1,isUserPanelVisible:!0,isBoardVisible:!1,users:ne,loggedUserLogin:null,date:null,createdAt:null},t}return Object(h.a)(a,e),Object(d.a)(a,[{key:"render",value:function(){var e=this.state,a=e.isAppLoaded,t=e.isIntroVisible,s=e.isUserPanelVisible,n=e.isBoardVisible,r=e.users,o=e.loggedUserLogin;return i.a.createElement(i.a.StrictMode,null,i.a.createElement("div",{className:"App"},i.a.createElement("h1",{className:"App__heading visuallyhidden"},"Task Timer App"),t?i.a.createElement(k,{isIntroVisible:t,onAppStateChange:this.handleStateChange}):i.a.createElement("div",{className:"empty"}),s&&a?i.a.createElement(I,{onUserLogin:this.handleUserLogin,users:r}):i.a.createElement("div",{className:"empty"}),n?i.a.createElement(ae,{users:r,loggedUserLogin:o,onUserUpdate:this.handleUserUpdate,onUserLogout:this.handleUserLogout,onUserRemove:this.handleUserRemove,onTaskRemove:this.handleTaskRemove,onTaskOrderChange:this.handleTaskOrder,onTaskFinish:this.handleTaskFinish,onTaskEdit:this.handleTaskEdit}):i.a.createElement("div",{className:"empty"}),i.a.createElement(ie,null)))}}]),a}(s.Component)),oe=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function le(e,a){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var t=e.installing;null!=t&&(t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),a&&a.onUpdate&&a.onUpdate(e)):(console.log("Content is cached for offline use."),a&&a.onSuccess&&a.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}r.a.render(i.a.createElement(re,null),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/task-timer",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var a="".concat("/task-timer","/service-worker.js");oe?(!function(e,a){fetch(e).then((function(t){var s=t.headers.get("content-type");404===t.status||null!=s&&-1===s.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):le(e,a)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(a,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):le(a,e)}))}}()}],[[14,1,2]]]);
//# sourceMappingURL=main.7f347680.chunk.js.map