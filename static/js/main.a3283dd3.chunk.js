(this["webpackJsonptask-timer"]=this["webpackJsonptask-timer"]||[]).push([[0],[,function(e,a,t){e.exports=t.p+"static/media/icons.92f0e3b1.svg"},,,,,,,,function(e,a,t){},,,function(e,a,t){e.exports=t(29)},,,,,function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){"use strict";t.r(a);var n=t(0),s=t.n(n),i=t(10),r=t.n(i),l=(t(17),t(2)),o=t(11),c=t(3),m=t(4),u=t(6),d=t(5),T=t(7),k=t(1),p=t.n(k),h=(t(9),function(e){var a=e.compClassName,t=e.alertClassName,n=e.taskName,i=e.taskNameValidity,r=e.onStateChange,l=e.onTaskNameChange;return s.a.createElement("section",{className:"Task ".concat(a)},s.a.createElement("h2",{className:"Task__heading"},"Write your task"),s.a.createElement("input",{className:"Task__input Task__input--name",id:"task-name",placeholder:"What would be your next task?",onChange:function(e){l(e.target.value),r({alertFlag:!0})},value:n}),s.a.createElement("label",{className:"Task__label Task__label--name visuallyhidden",htmlFor:"task-name"},"Your task"),s.a.createElement("button",{className:"button Task__button Task__button--right",onClick:i?function(){return r({isTaskVisible:!1,isTimeVisible:!0,isTaskNameChangeActive:!1,alertFlag:!1})}:function(){return r({alertFlag:!0})}},s.a.createElement("svg",{className:"Task__svg",viewBox:"0 0 512 512"},s.a.createElement("use",{href:"".concat(p.a,"#arrow-right")}))),s.a.createElement("p",{className:"Task__alert ".concat(t)},"You have to enter your task first!"))}),g=function(e){var a=e.compClassName,t=e.alertClassName,n=e.onStateChange,i=e.taskTimePlanned,r=e.onTaskTimePlannedChange,l=e.onBreakTimePlannedChange,o=e.isTimerActive,c=e.onStartButtonClick;return s.a.createElement("section",{className:"Time ".concat(a)},s.a.createElement("h2",{className:"Time__heading"},"Estimate a time"),s.a.createElement("button",{className:"Time__button Time__button--left",onClick:function(){return n({isTaskVisible:!0,isTimeVisible:!1,isTaskNameChangeActive:!0})}},s.a.createElement("svg",{className:"Time__svg",viewBox:"0 0 512 512"},s.a.createElement("use",{href:"".concat(p.a,"#arrow-left")}))),s.a.createElement("input",{id:"task-time",className:"Time__input Time__input--task-time",placeholder:"00m00s",maxLength:"6",onChange:function(e){r(e.target.value),n({alertFlag:!0})},value:i}),s.a.createElement("label",{className:"Time__label Time__label--task-time",htmlFor:"task-time"},"Task time"),s.a.createElement("input",{id:"break-time",className:"Time__input Time__input--break-time",placeholder:"00m00s",maxLength:"6",onChange:function(e){return l(e.target.value)}}),s.a.createElement("label",{className:"Time__label Time__label--break-time",htmlFor:"break-time"},"Max break time"),s.a.createElement("button",{className:"Time__start ".concat(o?"Time__start--disabled":""),disabled:o,onClick:function(){return c()}},"Start"),s.a.createElement("p",{className:"Time__alert ".concat(t)},"Enter time in a correct format (00m00s)"))},v=(t(18),function(e){var a=e.isTaskTimeActive,t=e.isBreakTimeActive,n=e.onDisplayModeChange,i=e.onStateChange,r=e.breaksTotal,l=a?r+1:r;return s.a.createElement("div",{className:"Controls"},s.a.createElement("button",{className:"Controls__button Controls__button--playPause",onClick:a||t?function(){return i({isTaskTimeActive:!a,isBreakTimeActive:!t,breaksTotal:l,previousTime:Date.now()})}:function(){return!1}},s.a.createElement("svg",{className:"Controls__svg ".concat(a?"Controls__svg--hidden":""),viewBox:"0 0 512 512"},s.a.createElement("use",{href:"".concat(p.a,"#play")})),s.a.createElement("svg",{className:"Controls__svg ".concat(a?"":"Controls__svg--hidden"),viewBox:"0 0 512 512"},s.a.createElement("use",{href:"".concat(p.a,"#pause")}))),s.a.createElement("button",{className:"Controls__button Controls__button--stop",onClick:a||t?function(){return i({isStopTaskVisible:!0})}:function(){return!1}},s.a.createElement("svg",{className:"Controls__svg",viewBox:"0 0 512 512"},s.a.createElement("use",{href:"".concat(p.a,"#stop")}))),s.a.createElement("button",{className:"Controls__button Controls__button--toggle",onClick:function(){return n()}},s.a.createElement("svg",{className:"Controls__svg",viewBox:"0 0 512 512"},s.a.createElement("use",{href:"".concat(p.a,"#toggle")}))))}),b=(t(19),function(e){var a=e.compClassName,t=e.taskTimeArray.join(":");return s.a.createElement("p",{className:a},t)}),E=(t(20),function(e){var a=e.compClassName,t=e.breaksTotal,n=e.breakTimeElapsedArray;return s.a.createElement("div",{className:a},s.a.createElement("h3",{className:"Break__counter"},"".concat(t," ").concat(1===t?"break":"breaks")),s.a.createElement(b,{compClassName:"Break__display",taskTimeArray:n}))}),_=(t(21),function(e){var a=e.compClassName,t=e.percent;return s.a.createElement("p",{className:a},"".concat(Math.round(t),"%"))}),f=(t(22),function(e){var a=e.isElapsedMode,t=e.percentElapsed,n=e.percentRemaining;return s.a.createElement("div",{className:"ProgressBar"},s.a.createElement("div",{className:"ProgressBar__part ProgressBar__part--loading",style:{width:"".concat(a?t:n,"%")}}),s.a.createElement("div",{className:"ProgressBar__part ProgressBar__part--unloading",style:{width:"".concat(a?n:t,"%")}}))}),N=(t(23),function(e){var a=e.isElapsedMode,t=e.percentElapsed,n=e.percentRemaining;return s.a.createElement("section",{className:"Progress"},s.a.createElement("header",{className:"Progress__header"},s.a.createElement(_,{compClassName:"Percentage ".concat(a?"Percentage--visible":""),percent:t}),s.a.createElement(_,{compClassName:"Percentage ".concat(a?"":"Percentage--visible"),percent:n})),s.a.createElement(f,{percentElapsed:t,percentRemaining:n,isElapsedMode:a}))}),C=(t(24),function(e){function a(){var e,t;Object(c.a)(this,a);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return(t=Object(u.a)(this,(e=Object(d.a)(a)).call.apply(e,[this].concat(s)))).handleTaskTimeTick=function(){var e=t.props.state,a=e.isTaskTimeActive,n=e.taskTimeElapsed,s=e.taskTimeRemaining,i=e.previousTime,r=e.taskTimeTotal,l=e.breakTimeElapsed;if(a){var o=t.props,c=o.onTimeArrayChange,m=o.onStateChange,u=Date.now(),d=c(n),T=c(r),k=c(s),p=c(n+l);m(n>=r?{isStopTaskVisible:!1,isTimerVisible:!1,isTaskTimeActive:!1,taskTimeElapsed:r,taskTimeRemaining:0,taskTimeElapsedArray:T,taskTimeRemainingArray:["00","00","00"],percentElapsed:100,percentRemaining:0,isOutroVisible:!0,overallTime:n+l,overallTimeArray:p}:{previousTime:u,taskTimeElapsed:n+(u-i),taskTimeElapsedArray:d,taskTimeRemaining:r-n,taskTimeRemainingArray:k,percentElapsed:n/r*100,percentRemaining:s/r*100})}},t.handleBreakTimeTick=function(){var e=t.props.state,a=e.isBreakTimeActive,n=e.breakTimeElapsed,s=e.previousTime;if(a){var i=t.props,r=i.onStateChange,l=i.onTimeArrayChange,o=Date.now();r({breakTimeElapsed:n+(o-s),breakTimeElapsedArray:l(n),previousTime:o})}},t}return Object(T.a)(a,e),Object(m.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.taskIntervalId=setInterval((function(){return e.handleTaskTimeTick()}),10),this.breakIntervalId=setInterval((function(){return e.handleBreakTimeTick()}),10)}},{key:"componentWillUnmount",value:function(){clearInterval(this.taskIntervalId),clearInterval(this.breakIntervalId)}},{key:"render",value:function(){var e=this.props.state,a=e.taskName,t=e.isTaskTimeActive,n=e.isBreakTimeActive,i=e.isElapsedMode,r=e.breaksTotal,l=e.taskTimeElapsedArray,o=e.taskTimeRemainingArray,c=e.breakTimeElapsedArray,m=e.percentElapsed,u=e.percentRemaining,d=this.props,T=d.compClassName,k=d.onDisplayModeChange,p=d.onStateChange;return s.a.createElement("section",{className:"Timer ".concat(T)},s.a.createElement("div",{className:"Timer__container"},s.a.createElement("h2",{className:"Timer__heading"},'"'.concat(a,'"')),s.a.createElement(v,{isTaskTimeActive:t,isBreakTimeActive:n,breaksTotal:r,onDisplayModeChange:k,onStateChange:p}),s.a.createElement("div",{className:"Timer__display ".concat(t?"":"Timer__display--inactive")},s.a.createElement(b,{compClassName:i?"Display Display--visible Display--showUp":"Display Display--hideUp",taskTimeArray:l}),s.a.createElement(b,{compClassName:i?"Display Display--hideUp":"Display Display--visible Display--showUp",taskTimeArray:o})),s.a.createElement(E,{compClassName:"Break ".concat(n?"Break--active":""),breaksTotal:r,breakTimeElapsedArray:c}),s.a.createElement(N,{isElapsedMode:i,percentElapsed:m,percentRemaining:u})))}}]),a}(n.Component)),y=(t(25),function(e){var a=e.compClassName,t=e.onStateChange;return s.a.createElement("section",{className:a},s.a.createElement("div",{className:"StopTask__container"},s.a.createElement("h2",{className:"StopTask__heading"},"Are you sure you want to quit?"),s.a.createElement("button",{className:"StopTask__button StopTask__button--stop",onClick:function(){return t({isTaskVisible:!0,isStopTaskVisible:!1,isTimerVisible:!1,isTaskTimeActive:!1,isBreakTimeActive:!1,taskName:"",isTaskNameValid:!1,taskTimePlanned:"",isTaskTimePlannedValid:!1})}},"Yes"),s.a.createElement("button",{className:"StopTask__button StopTask__button--cancel",onClick:function(){return t({isStopTaskVisible:!1})}},"Cancel")))}),A=(t(26),function(e){var a=e.minutes,t=e.seconds,n=e.breakTimeElapsed,i=e.breakFlag;return s.a.createElement("span",{className:"TimeResult"},s.a.createElement("span",null,a>1?" ".concat(a," minutes"):1===a?" ".concat(a," minute"):""),a>0&&(i?0!==n:0!==t)?"and":"",s.a.createElement("span",null,t>1?" ".concat(t," seconds"):1===t?" ".concat(t," second"):i&&0!==n?" a split second":""))}),S=(t(27),function(e){var a=e.state,t=a.taskName,n=a.breaksTotal,i=a.breakTimeElapsed,r=a.breakTimeElapsedArray,o=a.overallTime,c=a.overallTimeArray,m=e.compClassName,u=e.onStateChange,d=Object(l.a)(c,2),T=d[0],k=d[1],h=Object(l.a)(r,2),g=h[0],v=h[1];return s.a.createElement("section",{className:m},s.a.createElement("div",{className:"Outro__container"},s.a.createElement("h2",{className:"Outro__heading"},"Congratulations!",s.a.createElement("span",{className:"Outro__party",role:"img","aria-label":"party"}," \ud83c\udf89")),s.a.createElement("p",{className:"Outro__message"},"You have finished your task entitled ",s.a.createElement("br",null),s.a.createElement("span",{className:"TimeResult"},'"'.concat(t,'"')),s.a.createElement("br",null),"in",s.a.createElement(A,{minutes:parseInt(T),seconds:parseInt(k),breakTimeElapsed:i}),"".concat(i>0?" including break time.":"."),s.a.createElement("br",null),"You had",s.a.createElement("span",{className:"TimeResult"},"\n            ".concat(n>1?"".concat(n," breaks"):1===n?"".concat(n," break"):"no brakes","\n            ")),"during this task",s.a.createElement(A,{minutes:parseInt(g),seconds:parseInt(v),breakTimeElapsed:i,breakFlag:!0}),n?" long, what makes it around":"",s.a.createElement("span",{className:"TimeResult"},n?" ".concat(Math.round(i/o*100),"%"):""),n?" of all time.":"."),s.a.createElement("button",{className:"Outro__retry",onClick:function(){return u({isOutroVisible:!1,isTaskVisible:!0,taskName:"",isTaskNameValid:!1,taskTimePlanned:"",isTaskTimePlannedValid:!1})}},s.a.createElement("svg",{className:"Outro__svg",viewBox:"0 0 512 512"},s.a.createElement("use",{href:"".concat(p.a,"#retry")})))))}),w=(t(28),function(e){function a(e){var t;return Object(c.a)(this,a),(t=Object(u.a)(this,Object(d.a)(a).call(this,e))).handleStateChange=function(e){return t.setState(e)},t.handleTaskName=function(e){t.setState({taskName:e,isTaskNameValid:e.length>0})},t.handleTaskTimePlanned=function(e){var a=t.handleTotalTime(e),n=t.handleTimeArray(a);t.setState({taskTimePlanned:e,isTaskTimePlannedValid:/(\d?\d[Mm])?(\d?\d[Ss])/.test(e)&&a>0,taskTimeTotal:a,taskTimeRemaining:a,taskTimeRemainingArray:n})},t.handleBreakTimePlanned=function(e){t.setState({breakTimePlanned:e,isBreakTimePlannedValid:/^((\d?\d[Mm])?\d?\d[Ss]|)$/.test(e)})},t.handleTotalTime=function(e){var a=e.split(/[mM]/).map((function(e){return parseInt(e)||0})),t=a=a.length>1?a:[0].concat(Object(o.a)(a)),n=Object(l.a)(t,2);return 6e4*n[0]+1e3*n[1]},t.handleStartButton=function(){var e=t.state,a=e.isTaskTimePlannedValid,n=e.isBreakTimePlannedValid,s=t.handleTimeArray(0);a&&n?t.setState({isTimeVisible:!1,isTimerVisible:!0,isTaskTimeActive:!0,previousTime:Date.now(),taskTimeElapsed:0,breaksTotal:0,breakTimeElapsed:0,breakTimeElapsedArray:s,alertFlag:!1}):t.setState({alertFlag:!0})},t.handleDisplayMode=function(){return t.setState((function(e){return{isElapsedMode:!e.isElapsedMode}}))},t.handleTimeArray=function(e){var a=function(e){return e<10?"0".concat(e):e};return[a(Math.floor(e/6e4)),a(Math.floor(e/1e3%60)),a(Math.floor(e/10%100))]},t.state={isTaskVisible:!0,isTimeVisible:!1,isTimerVisible:!1,isStopTaskVisible:!1,isOutroVisible:!1,isElapsedMode:!0,isTaskNameChangeActive:!1,alertFlag:!1,taskName:"",isTaskNameValid:!1,taskTimePlanned:"",isTaskTimePlannedValid:!1,taskTimeTotal:0,taskTimeElapsed:0,taskTimeElapsedArray:["00","00","00"],taskTimeRemaining:0,taskTimeRemainingArray:["00","00","00"],isTaskTimeActive:!1,previousTime:0,breakTimePlanned:"",isBreakTimePlannedValid:!0,isBreakTimeActive:!1,breaksTotal:0,breakTimeElapsed:0,breakTimeElapsedArray:["00","00","00"],percentElapsed:0,percentRemaining:100,overallTime:0,overallTimeArray:["00","00","00"]},t}return Object(T.a)(a,e),Object(m.a)(a,[{key:"render",value:function(){var e=this.state,a=e.isTaskVisible,t=e.isTimeVisible,n=e.isTimerVisible,i=e.isStopTaskVisible,r=e.isOutroVisible,l=e.alertFlag,o=e.taskName,c=e.isTaskNameChangeActive,m=e.isTaskNameValid,u=e.taskTimePlanned,d=e.isTaskTimePlannedValid,T=e.isBreakTimePlannedValid,k=e.isTaskTimeActive;return s.a.createElement("div",{className:"App"},s.a.createElement("h1",{className:"App__heading visuallyhidden"},"Task Timer App"),s.a.createElement(h,{compClassName:a?"Task--visible ".concat(c?"slideInLeft":"slideInRight"):"slideOutLeft",alertClassName:l&&!m?"Task__alert--visible":"",onStateChange:this.handleStateChange,onTaskNameChange:this.handleTaskName,taskNameValidity:m,taskName:o}),s.a.createElement(g,{compClassName:t?"Time--visible slideInRight":n?"slideOutLeft":"slideOutRight",alertClassName:l&&!d||l&&!T?"Time__alert--visible":"",onTaskTimePlannedChange:this.handleTaskTimePlanned,onBreakTimePlannedChange:this.handleBreakTimePlanned,onStateChange:this.handleStateChange,onStartButtonClick:this.handleStartButton,isTimerActive:k,taskTimePlanned:u}),s.a.createElement(C,{compClassName:n?"Timer--visible slideInRight":"slideOutLeft",onStateChange:this.handleStateChange,onDisplayModeChange:this.handleDisplayMode,onTimeArrayChange:this.handleTimeArray,state:this.state}),s.a.createElement(y,{compClassName:"StopTask ".concat(i?"StopTask--visible":""),onStateChange:this.handleStateChange}),s.a.createElement(S,{compClassName:"Outro ".concat(r?"Outro--visible slideInRight":"slideOutLeft"),state:this.state,onStateChange:this.handleStateChange}))}}]),a}(n.Component)),V=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function P(e,a){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var t=e.installing;null!=t&&(t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),a&&a.onUpdate&&a.onUpdate(e)):(console.log("Content is cached for offline use."),a&&a.onSuccess&&a.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}r.a.render(s.a.createElement(w,null),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/task-timer",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var a="".concat("/task-timer","/service-worker.js");V?(!function(e,a){fetch(e).then((function(t){var n=t.headers.get("content-type");404===t.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):P(e,a)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(a,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):P(a,e)}))}}()}],[[12,1,2]]]);
//# sourceMappingURL=main.a3283dd3.chunk.js.map